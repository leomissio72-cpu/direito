<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema Jur√≠dico - Dra. Advogada</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <style>
    /* ESTILOS COMPLETOS MANTIDOS DO C√ìDIGO ANTERIOR */
    :root{
      --bg:#f4f6fb;
      --sidebar:#0f1724;
      --card:#ffffff;
      --muted:#556179;
      --primary:#3366ff;
      --accent:#2b61ff;
      --success:#0ea44e;
      --warning:#f59e0b;
      --danger:#ef4444;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Inter',sans-serif;
      background:var(--bg);
      color:#0b1b2b;
      background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%23f4f6fb"/><path d="M30,30 L40,20 L60,40 L70,30 L80,40 L60,60 L40,40 Z" fill="%233366ff" opacity="0.03"/><circle cx="20" cy="80" r="8" fill="%232b61ff" opacity="0.03"/><rect x="80" y="70" width="15" height="15" fill="%230ea44e" opacity="0.03" transform="rotate(45 87.5 77.5)"/></svg>');
      background-size: 200px 200px;
    }
    .app{display:flex;min-height:100vh}

    /* SIDEBAR */
    .sidebar{
      width:220px;
      padding:20px;
      background:#0f1724;
      color:#fff;
      display:flex;
      flex-direction:column;
      gap:18px;
      background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%230f1724"/><path d="M30,20 L50,10 L70,20 L70,40 L50,50 L30,40 Z" fill="%233366ff" opacity="0.05"/><path d="M20,60 L40,50 L60,60 L60,80 L40,90 L20,80 Z" fill="%232b61ff" opacity="0.03"/></svg>');
      background-size: 150px 150px;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:44px;
      height:44px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--primary),var(--accent));
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-weight:700;
      position: relative;
      overflow: hidden;
    }
    .logo::after {
      content: "‚öñÔ∏è";
      position: absolute;
      font-size: 20px;
    }
    .brand h3{margin:0;font-size:16px}
    .brand .advogada-nome {
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
    }
    nav{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .nav-btn{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px;
      border-radius:8px;
      border:none;
      background:transparent;
      color:rgba(255,255,255,0.9);
      cursor:pointer;
      font-weight:600;
      text-align:left;
      width:100%;
      transition: all 0.3s ease;
    }
    .nav-btn:hover{
      background:rgba(255,255,255,0.08);
      transform: translateX(5px);
    }
    .nav-btn.active{
      background:rgba(255,255,255,0.12);
      color:#fff;
      box-shadow: 0 2px 8px rgba(51, 102, 255, 0.3);
    }
    .sidebar-footer{
      margin-top:auto;
      color:var(--muted);
      font-size:13px;
      text-align: center;
      padding: 12px;
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
    }

    /* WORKSPACE */
    .workspace{flex:1;display:flex;flex-direction:column;min-width:0}
    .topbar{
      height:68px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 20px;
      background:transparent;
      border-bottom:1px solid rgba(16,24,40,0.04);
    }
    .page-title{
      font-size:18px;
      font-weight:700;
      color:#0b1b2b;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .user-area{display:flex;align-items:center;gap:12px}
    .avatar{
      width:40px;
      height:40px;
      border-radius:8px;
      background:linear-gradient(135deg,var(--primary),var(--accent));
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-weight:700;
    }

    .main-area{padding:18px;overflow:auto}
    .container{
      background:var(--card);
      border-radius:12px;
      padding:18px;
      border:1px solid rgba(11,27,43,0.04);
      box-shadow:0 8px 24px rgba(11,27,43,0.04);
      margin-bottom:16px;
      position: relative;
    }
    h2{
      margin:0 0 8px 0;
      color:#0b1b2b;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .col-full{grid-column:1/-1}
    label{
      display:block;
      margin-top:10px;
      color:var(--muted);
      font-weight:600;
      font-size:13px;
    }
    input,select,textarea{
      width:100%;
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(11,27,43,0.06);
      background:#fff;
      color:#0b1b2b;
      font-family:'Inter',sans-serif;
      font-size:14px;
      transition: all 0.3s ease;
    }
    input:focus,select:focus,textarea:focus{
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(51, 102, 255, 0.1);
    }
    textarea{min-height:100px;resize:vertical}
    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      margin-top:14px;
      flex-wrap:wrap;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      border-radius:8px;
      border:none;
      cursor:pointer;
      font-weight:700;
      font-size:14px;
      transition:all 0.3s ease;
      text-decoration: none;
    }
    .btn:hover{
      opacity:0.9;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .btn.primary{
      background:linear-gradient(90deg,var(--primary),var(--accent));
      color:#fff;
    }
    .btn.ghost{
      background:transparent;
      border:1px solid rgba(11,27,43,0.06);
      color:#0b1b2b;
    }
    .btn.link{
      background:transparent;
      color:var(--muted);
      text-decoration:underline;
      padding:8px;
    }
    .btn.danger{
      background:var(--danger);
      color:#fff;
    }
    .btn.success{
      background:var(--success);
      color:#fff;
    }

    table{
      width:100%;
      border-collapse:collapse;
      margin-top:12px;
      color:#0b1b2b;
    }
    th,td{
      padding:10px;
      border-bottom:1px solid rgba(11,27,43,0.04);
      text-align:left;
      font-size:14px;
    }
    th{
      color:var(--muted);
      font-weight:700;
      background: rgba(51, 102, 255, 0.03);
    }
    td .btn{padding:6px 10px;font-size:13px}
    td select{
      padding:6px 8px;
      font-size:13px;
      border:1px solid rgba(11,27,43,0.1);
      border-radius: 6px;
    }

    .no-data{
      color:var(--muted);
      padding:18px;
      text-align:center;
    }
    .note-card{
      background:#fafbff;
      border-left:4px solid var(--primary);
      padding:12px;
      border-radius:8px;
      margin-bottom:10px;
      transition: all 0.3s ease;
    }
    .note-card:hover {
      transform: translateX(5px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .note-meta{
      font-size:13px;
      color:var(--muted);
      margin-bottom:6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .note-text{
      font-size:14px;
      color:#0b1b2b;
    }

    .alert{
      padding:12px 16px;
      border-radius:8px;
      margin-bottom:12px;
      font-size:14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .alert.success{
      background:#d1fae5;
      color:#065f46;
      border:1px solid #10b981;
    }
    .alert.error{
      background:#fee2e2;
      color:#991b1b;
      border:1px solid #ef4444;
    }

    .status-badge{
      display:inline-block;
      padding:4px 8px;
      border-radius:6px;
      font-size:12px;
      font-weight:600;
    }
    .status-aguardando{background:#fef3c7;color:#92400e}
    .status-andamento{background:#dbeafe;color:#1e40af}
    .status-suspenso{background:#fed7aa;color:#9a3412}
    .status-sentenca{background:#e9d5ff;color:#6b21a8}
    .status-recurso{background:#fce7f3;color:#9f1239}
    .status-arquivado{background:#e5e7eb;color:#374151}
    .status-finalizado{background:#d1fae5;color:#065f46}

    /* Estilos para Contratos */
    .contrato-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      background: white;
    }
    .contrato-header {
      text-align: center;
      margin-bottom: 30px;
    }
    .contrato-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    .contrato-subtitle {
      font-size: 14px;
      color: #666;
    }
    .contrato-section {
      margin-bottom: 20px;
    }
    .contrato-section-title {
      font-weight: bold;
      margin-bottom: 10px;
      border-bottom: 1px solid #000;
    }
    .contrato-field {
      margin-bottom: 8px;
    }
    .contrato-label {
      font-weight: bold;
    }
    .contrato-signatures {
      display: flex;
      justify-content: space-between;
      margin-top: 50px;
    }
    .signature-line {
      margin-bottom: 40px;
    }
    .contrato-actions {
      margin-top: 20px;
      text-align: center;
    }
    
    /* Estilos para filtros */
    .filtros-container {
      background: #f8fafc;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }
    .filtros-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-bottom: 12px;
    }
    .filtro-acoes {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    /* Estilos para calculadoras */
    .calc-container {
      background: #f8fafc;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }
    .calc-result {
      margin-top: 16px;
      padding: 12px;
      background: white;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
      display: none;
    }
    .calc-result.show {
      display: block;
    }
    .calc-title {
      font-weight: bold;
      margin-bottom: 4px;
    }
    .calc-value {
      font-size: 18px;
      font-weight: bold;
      color: var(--primary);
    }
    
    /* Estilos para intera√ß√µes */
    .interacao-card {
      background: #fafbff;
      border-left: 4px solid var(--primary);
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    .interacao-meta {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .interacao-tipo {
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
    }
    .tipo-reuniao { background: #dbeafe; color: #1e40af; }
    .tipo-telefonema { background: #fef3c7; color: #92400e; }
    .tipo-email { background: #d1fae5; color: #065f46; }
    .tipo-anotacao { background: #e9d5ff; color: #6b21a8; }
    
    /* Estilos para gr√°ficos */
    .charts-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }
    .chart-card {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      border: 1px solid rgba(11,27,43,0.04);
      box-shadow: 0 8px 24px rgba(11,27,43,0.04);
    }
    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    .chart-title {
      font-size: 16px;
      font-weight: 600;
      color: #0b1b2b;
    }
    .chart-actions {
      display: flex;
      gap: 8px;
    }
    .chart-wrapper {
      position: relative;
      height: 300px;
    }

    /* Estilos para o perfil do cliente */
    .perfil-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(11,27,43,0.06);
    }
    .perfil-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 32px;
      font-weight: bold;
    }
    .perfil-info {
      flex: 1;
    }
    .perfil-nome {
      margin: 0 0 8px 0;
      font-size: 24px;
      color: #0b1b2b;
    }
    .perfil-detalhes {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }
    .perfil-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }
    .perfil-stat {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      border: 1px solid rgba(11,27,43,0.04);
      box-shadow: 0 2px 8px rgba(11,27,43,0.04);
      text-align: center;
    }
    .perfil-stat-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      margin: 8px 0;
    }
    .perfil-stat-label {
      font-size: 13px;
      color: var(--muted);
      font-weight: 600;
    }
    .info-section {
      margin-bottom: 24px;
    }
    .info-section-title {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
      color: #0b1b2b;
      font-size: 18px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 16px;
    }
    .info-item {
      background: #f8fafc;
      padding: 12px;
      border-radius: 8px;
    }
    .info-label {
      font-size: 12px;
      color: var(--muted);
      font-weight: 600;
      margin-bottom: 4px;
    }
    .info-value {
      font-size: 14px;
      color: #0b1b2b;
    }
    .financeiro-status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
    }
    .status-pago {
      background: #d1fae5;
      color: #065f46;
    }
    .status-atrasado {
      background: #fee2e2;
      color: #991b1b;
    }
    .status-pendente {
      background: #fef3c7;
      color: #92400e;
    }

    /* Estilos para formul√°rio de edi√ß√£o */
    .processo-edicao {
      background-color: #f8f9fa;
      transition: all 0.3s ease;
      border: 1px solid #dee2e6;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
    }
    
    .processo-edicao:hover {
      background-color: #e9ecef;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .processo-edicao h5 {
      margin-top: 0;
      color: var(--primary);
      border-bottom: 1px solid #dee2e6;
      padding-bottom: 8px;
    }

    /* NOVOS ESTILOS PARA DADOS FINANCEIROS E ANOTA√á√ïES NO PERFIL */
    .dados-financeiros-container, .anotacoes-container {
      background: #f8fafc;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }
    
    .financeiro-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 16px;
    }
    
    .financeiro-card {
      background: white;
      border-radius: 8px;
      padding: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      text-align: center;
    }
    
    .financeiro-card .valor {
      font-size: 24px;
      font-weight: bold;
      margin: 8px 0;
    }
    
    .financeiro-card .label {
      font-size: 14px;
      color: var(--muted);
    }
    
    .financeiro-card.recebido .valor {
      color: var(--success);
    }
    
    .financeiro-card.pendente .valor {
      color: var(--warning);
    }
    
    .financeiro-card.atrasado .valor {
      color: var(--danger);
    }
    
    .financeiro-card.total .valor {
      color: var(--primary);
    }
    
    .transacoes-lista {
      margin-top: 16px;
    }
    
    .transacao-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      background: white;
      border-radius: 8px;
      margin-bottom: 8px;
      border-left: 4px solid var(--primary);
    }
    
    .transacao-info {
      flex: 1;
    }
    
    .transacao-descricao {
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .transacao-meta {
      font-size: 12px;
      color: var(--muted);
    }
    
    .transacao-valor {
      font-weight: 600;
      font-size: 16px;
    }
    
    .transacao-paga {
      color: var(--success);
    }
    
    .transacao-pendente {
      color: var(--warning);
    }
    
    .transacao-atrasada {
      color: var(--danger);
    }
    
    .anotacoes-lista {
      margin-top: 16px;
    }
    
    .anotacao-item {
      background: white;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 12px;
      border-left: 4px solid var(--primary);
    }
    
    .anotacao-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .anotacao-data {
      font-size: 12px;
      color: var(--muted);
    }
    
    .anotacao-tipo {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 4px;
      background: #e0e7ff;
      color: var(--primary);
    }
    
    .anotacao-texto {
      font-size: 14px;
      line-height: 1.5;
    }

    /* NOVOS ESTILOS PARA IMAGENS E PROCESSOS POR CLIENTE */
    .imagens-container {
      margin-top: 20px;
    }
    
    .imagens-lista {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }
    
    .imagem-item {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    
    .imagem-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .imagem-item img {
      width: 100%;
      height: 120px;
      object-fit: cover;
    }
    
    .imagem-info {
      padding: 8px;
      background: white;
    }
    
    .imagem-nome {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .imagem-meta {
      font-size: 10px;
      color: var(--muted);
    }
    
    .imagem-acoes {
      position: absolute;
      top: 4px;
      right: 4px;
      display: flex;
      gap: 4px;
    }
    
    .processos-cliente-container {
      margin-top: 20px;
    }
    
    .processo-cliente-item {
      background: #f8fafc;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 12px;
      border-left: 4px solid var(--primary);
    }
    
    .processo-cliente-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .processo-cliente-titulo {
      font-weight: 600;
      font-size: 16px;
    }
    
    .processo-cliente-status {
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 4px;
    }
    
    .processo-cliente-detalhes {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    
    .processo-cliente-acoes {
      display: flex;
      gap: 8px;
    }
    
    .historico-status {
      margin-top: 16px;
    }
    
    .status-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px;
      border-left: 3px solid var(--primary);
      background: white;
      margin-bottom: 8px;
      border-radius: 0 4px 4px 0;
    }
    
    .status-data {
      font-size: 12px;
      color: var(--muted);
      min-width: 100px;
    }
    
    .status-descricao {
      font-size: 14px;
    }

    /* NOVOS ESTILOS PARA PARCELAS */
    .parcelas-container {
      margin-top: 16px;
    }
    
    .parcelas-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .parcelas-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }
    
    .parcela-item {
      background: white;
      border-radius: 8px;
      padding: 12px;
      border: 1px solid rgba(11,27,43,0.06);
      transition: all 0.3s ease;
    }
    
    .parcela-item.paga {
      border-left: 4px solid var(--success);
    }
    
    .parcela-item.pendente {
      border-left: 4px solid var(--warning);
    }
    
    .parcela-item.atrasada {
      border-left: 4px solid var(--danger);
    }
    
    .parcela-numero {
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .parcela-valor {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    
    .parcela-status {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .parcela-data {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      .sidebar{width:64px}
      .brand h3,.brand .advogada-nome,.sidebar-footer{display:none}
      .nav-btn .label{display:none}
      .charts-container {
        grid-template-columns: 1fr;
      }
      .chart-card {
        min-width: 0;
      }
      .info-grid {
        grid-template-columns: 1fr;
      }
      .perfil-stats {
        grid-template-columns: repeat(2, 1fr);
      }
      .financeiro-summary {
        grid-template-columns: repeat(2, 1fr);
      }
      .imagens-lista {
        grid-template-columns: repeat(2, 1fr);
      }
      .parcelas-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .tab {
      display: none;
      animation: fadeIn 0.5s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }
    .stat-card {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      border: 1px solid rgba(11,27,43,0.04);
      box-shadow: 0 2px 8px rgba(11,27,43,0.04);
      text-align: center;
    }
    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      margin: 8px 0;
    }
    .stat-label {
      font-size: 13px;
      color: var(--muted);
      font-weight: 600;
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    .modal-overlay.active {
      display: flex;
    }
    .modal-pdf {
      background: white;
      border-radius: 12px;
      width: 90%;
      max-width: 900px;
      max-height: 90vh;
      overflow: auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-bottom: 1px solid rgba(11,27,43,0.06);
    }
    .modal-title {
      font-weight: 700;
      font-size: 18px;
      color: #0b1b2b;
    }
    .modal-close {
      background: none;
      border: none;
      cursor: pointer;
      color: var(--muted);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4px;
      border-radius: 4px;
    }
    .modal-close:hover {
      background: rgba(11,27,43,0.06);
    }
    .modal-content {
      padding: 20px;
      max-height: 60vh;
      overflow: auto;
    }
    .modal-actions {
      padding: 16px 20px;
      border-top: 1px solid rgba(11,27,43,0.06);
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
    
    /* NOVOS ESTILOS PARA DOCUMENTOS */
    .documentos-container {
      margin-top: 20px;
    }
    .upload-area {
      border: 2px dashed #d1d5db;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      margin-bottom: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .upload-area:hover {
      border-color: var(--primary);
      background-color: #f8fafc;
    }
    .upload-area.active {
      border-color: var(--primary);
      background-color: #e0e7ff;
    }
    .documentos-lista {
      display: grid;
      gap: 12px;
    }
    .documento-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      background: #f8fafc;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
    }
    .documento-info {
      flex: 1;
    }
    .documento-nome {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .documento-meta {
      font-size: 12px;
      color: var(--muted);
    }
    
    /* Estilos para c√°lculo de honor√°rios */
    .calc-honorarios {
      background: #f8fafc;
      padding: 16px;
      border-radius: 8px;
      margin-top: 16px;
    }
    .calc-resultado {
      margin-top: 16px;
      padding: 12px;
      background: white;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
    }

    /* NOVOS ESTILOS PARA SISTEMA DE QUERY */
    .query-section {
      background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
      color: white;
      padding: 30px;
      border-bottom: 3px solid #3498db;
      margin-bottom: 20px;
    }

    .query-form {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr;
      gap: 15px;
      align-items: end;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      margin-bottom: 8px;
      font-weight: bold;
      color: #ecf0f1;
    }

    .form-group input, .form-group select {
      padding: 12px 15px;
      border: 2px solid #34495e;
      border-radius: 8px;
      font-size: 1rem;
      background: #ecf0f1;
      transition: all 0.3s ease;
    }

    .form-group input:focus, .form-group select:focus {
      outline: none;
      border-color: #3498db;
      background: white;
      box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
    }

    .search-button {
      background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
      color: white;
      border: none;
      padding: 14px 25px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .search-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
    }

    .quick-search {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .quick-search-btn {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.3);
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .quick-search-btn:hover {
      background: rgba(52, 152, 219, 0.3);
      border-color: #3498db;
    }

    .search-results {
      margin-top: 20px;
      padding: 15px;
      background: rgba(52, 152, 219, 0.1);
      border-radius: 8px;
      border-left: 4px solid #3498db;
      display: none;
    }

    .result-item {
      padding: 10px;
      margin: 5px 0;
      background: white;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      color: #2c3e50;
    }

    .result-item:hover {
      background: #ecf0f1;
      transform: translateX(5px);
    }

    .query-advanced {
      margin-top: 15px;
      padding: 15px;
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
    }

    .query-filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-bottom: 10px;
    }

    .query-actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    /* NOVOS ESTILOS PARA SISTEMA MULTIL√çNGUA */
    .language-selector {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }

    .lang-btn {
      background: rgba(255,255,255,0.9);
      border: 2px solid var(--primary);
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 5px;
      backdrop-filter: blur(10px);
    }

    .lang-dropdown {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      min-width: 120px;
      margin-top: 5px;
    }

    .lang-dropdown.show {
      display: block;
    }

    .lang-option {
      padding: 10px 15px;
      cursor: pointer;
      transition: background 0.3s ease;
      border-bottom: 1px solid #eee;
    }

    .lang-option:hover {
      background: #f8f9fa;
    }

    .lang-option:last-child {
      border-bottom: none;
    }

    /* ANIMA√á√ïES E EFEITOS ESPECIAIS */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .slide-in {
      animation: slideIn 0.5s ease-out;
    }

    /* ESTILOS PARA NOTIFICA√á√ïES */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      z-index: 10000;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transform: translateX(150%);
      transition: transform 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.success {
      background: var(--success);
    }

    .notification.error {
      background: var(--danger);
    }

    .notification.warning {
      background: var(--warning);
    }

    .notification.info {
      background: var(--primary);
    }
  </style>
</head>
<body>
  <!-- SELECTOR DE IDIOMA -->
  <div class="language-selector">
    <div class="lang-btn" id="langBtn">
      <span>üåê Portugu√™s</span>
      <span class="material-icons">arrow_drop_down</span>
    </div>
    <div class="lang-dropdown" id="langDropdown">
      <div class="lang-option" data-lang="pt">üáßüá∑ Portugu√™s</div>
      <div class="lang-option" data-lang="en">üá∫üá∏ English</div>
      <div class="lang-option" data-lang="es">üá™üá∏ Espa√±ol</div>
      <div class="lang-option" data-lang="fr">üá´üá∑ Fran√ßais</div>
    </div>
  </div>

  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h3 data-i18n="system_name">Sistema Jur√≠dico</h3>
          <div class="advogada-nome" data-i18n="lawyer_name">Dra. Advogada</div>
        </div>
      </div>

      <nav>
        <button class="nav-btn active" data-tab="dashboard">
          <span class="material-icons">dashboard</span>
          <span class="label" data-i18n="menu_dashboard">Dashboard</span>
        </button>
        <button class="nav-btn" data-tab="query">
          <span class="material-icons">search</span>
          <span class="label" data-i18n="menu_query">Consulta</span>
        </button>
        <button class="nav-btn" data-tab="cadastro">
          <span class="material-icons">person_add</span>
          <span class="label" data-i18n="menu_register">Cadastro</span>
        </button>
        <button class="nav-btn" data-tab="lista">
          <span class="material-icons">folder_open</span>
          <span class="label" data-i18n="menu_processes">Processos</span>
        </button>
        <button class="nav-btn" data-tab="perfil">
          <span class="material-icons">person</span>
          <span class="label" data-i18n="menu_profile">Perfil</span>
        </button>
        <button class="nav-btn" data-tab="contratos">
          <span class="material-icons">description</span>
          <span class="label" data-i18n="menu_contracts">Contratos</span>
        </button>
        <button class="nav-btn" data-tab="contratos-criados">
          <span class="material-icons">folder_open</span>
          <span class="label" data-i18n="menu_created_contracts">Contratos Criados</span>
        </button>
        <button class="nav-btn" data-tab="anotacoes">
          <span class="material-icons">note_add</span>
          <span class="label" data-i18n="menu_notes">Anota√ß√µes</span>
        </button>
        <button class="nav-btn" data-tab="interacao">
          <span class="material-icons">people</span>
          <span class="label" data-i18n="menu_interaction">Intera√ß√£o</span>
        </button>
        <button class="nav-btn" data-tab="ferramentas">
          <span class="material-icons">build</span>
          <span class="label" data-i18n="menu_tools">Ferramentas</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <div style="font-size:12px;margin-top:8px">
          <strong data-i18n="lawyer_name_full">Dra. Advogada</strong>
        </div>
        <div style="font-size:11px;color:rgba(255,255,255,0.5);margin-top:4px" data-i18n="oab_number">
          OAB/SP 123.456
        </div>
      </div>
    </aside>

    <!-- WORKSPACE -->
    <div class="workspace">
      <div class="topbar">
        <div class="page-title" id="pageTitle">
          <span class="material-icons">dashboard</span>
          <span data-i18n="menu_dashboard">Dashboard</span>
        </div>
        <div class="user-area">
          <div style="text-align:right">
            <div id="userName" style="font-weight:700" data-i18n="lawyer_name_full">Dra. Advogada</div>
            <div style="font-size:12px;color:var(--muted)" data-i18n="oab_number">OAB/SP 123.456</div>
          </div>
          <div class="avatar">‚öñÔ∏è</div>
        </div>
      </div>

      <main class="main-area">
        <!-- SISTEMA DE QUERY/SEARCH -->
        <section id="query" class="container tab" style="display:none">
          <div class="query-section">
            <h2 style="color: white; margin-bottom: 20px;">
              <span class="material-icons">search</span>
              <span data-i18n="query_title">Sistema de Consulta de Clientes</span>
            </h2>
            
            <div class="query-form">
              <div class="form-group">
                <label for="searchType" data-i18n="query_search_type">Tipo de Busca</label>
                <select id="searchType">
                  <option value="cpf" data-i18n="query_cpf">CPF</option>
                  <option value="name" data-i18n="query_name">Nome</option>
                  <option value="email" data-i18n="query_email">Email</option>
                  <option value="phone" data-i18n="query_phone">Telefone</option>
                  <option value="process" data-i18n="query_process">N√∫mero do Processo</option>
                </select>
              </div>
              <div class="form-group">
                <label for="searchValue" id="searchLabel" data-i18n="query_search_value">Valor da Busca</label>
                <input type="text" id="searchValue" placeholder="Digite o valor para busca..." data-i18n-placeholder="query_placeholder">
              </div>
              <button class="search-button" id="executeSearch">
                <span class="material-icons">search</span>
                <span data-i18n="query_search_button">Buscar Cliente</span>
              </button>
            </div>

            <div class="quick-search">
              <button class="quick-search-btn" onclick="quickSearch('leonardo')" data-i18n="query_quick_leonardo">Leonardo H. S. Misalo</button>
              <button class="quick-search-btn" onclick="quickSearch('henriksho27')" data-i18n="query_quick_email">Email: henriksho27</button>
              <button class="quick-search-btn" onclick="quickSearch('19966105005')" data-i18n="query_quick_phone">Telefone: 19966105005</button>
              <button class="quick-search-btn" onclick="quickSearch('proc-001')" data-i18n="query_quick_process">Processo: PROC-001</button>
            </div>

            <div class="query-advanced">
              <h4 style="color: white; margin-bottom: 10px;" data-i18n="query_advanced_filters">Filtros Avan√ßados</h4>
              <div class="query-filters">
                <div class="form-group">
                  <label for="filterStatus" data-i18n="query_filter_status">Status do Processo</label>
                  <select id="filterStatus">
                    <option value="" data-i18n="query_all">Todos</option>
                    <option value="Aguardando Distribui√ß√£o" data-i18n="status_aguardando">Aguardando Distribui√ß√£o</option>
                    <option value="Em Andamento" data-i18n="status_andamento">Em Andamento</option>
                    <option value="Finalizado" data-i18n="status_finalizado">Finalizado</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="filterCategory" data-i18n="query_filter_category">Categoria</label>
                  <select id="filterCategory">
                    <option value="" data-i18n="query_all">Todas</option>
                    <option value="C√≠vel" data-i18n="category_civil">C√≠vel</option>
                    <option value="Trabalhista" data-i18n="category_labor">Trabalhista</option>
                    <option value="Penal" data-i18n="category_criminal">Penal</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="filterDateFrom" data-i18n="query_filter_date_from">Data In√≠cio</label>
                  <input type="date" id="filterDateFrom">
                </div>
                <div class="form-group">
                  <label for="filterDateTo" data-i18n="query_filter_date_to">Data Fim</label>
                  <input type="date" id="filterDateTo">
                </div>
              </div>
              <div class="query-actions">
                <button class="btn primary" id="applyFilters">
                  <span class="material-icons">filter_alt</span>
                  <span data-i18n="query_apply_filters">Aplicar Filtros</span>
                </button>
                <button class="btn ghost" id="clearFilters">
                  <span class="material-icons">clear</span>
                  <span data-i18n="query_clear_filters">Limpar Filtros</span>
                </button>
                <button class="btn success" id="exportQueryResults">
                  <span class="material-icons">download</span>
                  <span data-i18n="query_export_results">Exportar Resultados</span>
                </button>
              </div>
            </div>

            <div class="search-results" id="searchResults">
              <h4 data-i18n="query_results">üìã Resultados da Busca:</h4>
              <div id="resultsList"></div>
            </div>
          </div>
        </section>

        <!-- DASHBOARD -->
        <section id="dashboard" class="container tab" style="display:block">
          <h2><span class="material-icons">dashboard</span><span data-i18n="menu_dashboard">Dashboard do Escrit√≥rio</span></h2>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-label" data-i18n="dashboard_total_processes">Total de Processos</div>
              <div class="stat-value" id="totalProcessos">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label" data-i18n="dashboard_active_processes">Processos Ativos</div>
              <div class="stat-value" id="processosAtivos">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label" data-i18n="dashboard_monthly_fees">Honor√°rios Mensais</div>
              <div class="stat-value" id="honorariosMensais">R$ 0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label" data-i18n="dashboard_active_clients">Clientes Ativos</div>
              <div class="stat-value" id="clientesAtivos">0</div>
            </div>
          </div>
          
          <!-- Gr√°ficos Interativos -->
          <div class="charts-container">
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title" data-i18n="chart_status">Status dos Processos</div>
                <div class="chart-actions">
                  <button class="btn ghost" id="btnExportStatus">
                    <span class="material-icons">download</span> <span data-i18n="export_excel">Excel</span>
                  </button>
                </div>
              </div>
              <div class="chart-wrapper">
                <canvas id="chartStatus"></canvas>
              </div>
            </div>
            
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title" data-i18n="chart_fees">Honor√°rios por Categoria</div>
                <div class="chart-actions">
                  <button class="btn ghost" id="btnExportHonorarios">
                    <span class="material-icons">download</span> <span data-i18n="export_excel">Excel</span>
                  </button>
                </div>
              </div>
              <div class="chart-wrapper">
                <canvas id="chartHonorarios"></canvas>
              </div>
            </div>
            
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title" data-i18n="chart_monthly">Processos por M√™s</div>
                <div class="chart-actions">
                  <button class="btn ghost" id="btnExportMensal">
                    <span class="material-icons">download</span> <span data-i18n="export_excel">Excel</span>
                  </button>
                </div>
              </div>
              <div class="chart-wrapper">
                <canvas id="chartMensal"></canvas>
              </div>
            </div>
            
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title" data-i18n="chart_court">Distribui√ß√£o por Vara</div>
                <div class="chart-actions">
                  <button class="btn ghost" id="btnExportVara">
                    <span class="material-icons">download</span> <span data-i18n="export_excel">Excel</span>
                  </button>
                </div>
              </div>
              <div class="chart-wrapper">
                <canvas id="chartVara"></canvas>
              </div>
            </div>
          </div>
        </section>

        <!-- CADASTRO -->
        <section id="cadastro" class="container tab" style="display:none">
          <h2><span class="material-icons">person_add</span><span data-i18n="menu_register">Cadastro de Cliente & Processo</span></h2>
          <div id="alertCadastro"></div>
          
          <!-- Seletor de Cliente Existente -->
          <div class="grid">
            <div class="col-full">
              <label data-i18n="register_select_existing">Selecionar Cliente Existente</label>
              <select id="selectClienteExistente" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(11,27,43,0.06);background:#fff;color:#0b1b2b">
                <option value="" data-i18n="register_select_option">--- selecione um cliente existente ---</option>
              </select>
            </div>
          </div>
          
          <div class="actions">
            <button class="btn ghost" id="btnNovoCliente">
              <span class="material-icons">person_add</span> <span data-i18n="register_new_client">Novo Cliente</span>
            </button>
          </div>
          
          <form id="formCadastro" style="margin-top:12px">
            <div class="grid">
              <div>
                <label data-i18n="register_full_name">Nome completo *</label>
                <input name="nome" type="text" required placeholder="Ex: Jos√© da Silva" id="inputNome" data-i18n-placeholder="register_name_placeholder">

                <label data-i18n="register_cpf">CPF</label>
                <input name="cpf" type="text" placeholder="000.000.000-00" id="inputCpf" data-i18n-placeholder="register_cpf_placeholder">

                <label data-i18n="register_rg">RG</label>
                <input name="rg" type="text" placeholder="" id="inputRg">
              </div>

              <div>
                <label data-i18n="register_phone">Telefone / WhatsApp</label>
                <input name="telefone" type="text" placeholder="(11) 9xxxx-xxxx" id="inputTelefone" data-i18n-placeholder="register_phone_placeholder">

                <label data-i18n="register_email">E-mail</label>
                <input name="email" type="email" placeholder="exemplo@dominio.com" id="inputEmail" data-i18n-placeholder="register_email_placeholder">

                <label data-i18n="register_responsible">Respons√°vel (advogado)</label>
                <input name="responsavel" type="text" placeholder="Dra. Advogada" value="Dra. Advogada" id="inputResponsavel" data-i18n-placeholder="register_responsible_placeholder">
              </div>

              <div class="col-full">
                <label data-i18n="register_address">Endere√ßo</label>
                <input name="endereco" type="text" placeholder="Rua, n¬∫, bairro, cidade - UF" id="inputEndereco" data-i18n-placeholder="register_address_placeholder">
              </div>

              <!-- Continua√ß√£o do formul√°rio... -->
              <!-- (O restante do formul√°rio permanece igual ao c√≥digo anterior) -->
            </div>

            <div class="actions">
              <button class="btn primary" type="submit">
                <span class="material-icons">save</span> <span data-i18n="register_save">Salvar Processo</span>
              </button>
              <button type="button" class="btn success" id="btnGerarContrato">
                <span class="material-icons">description</span> <span data-i18n="register_generate_contract">Gerar Contrato</span>
              </button>
              <button type="button" class="btn ghost" id="btnExportPdf">
                <span class="material-icons">picture_as_pdf</span> <span data-i18n="register_export_pdf">Exportar PDF</span>
              </button>
              <button type="button" class="btn link" id="btnLimparForm">
                <span class="material-icons">clear</span> <span data-i18n="register_clear_form">Limpar Formul√°rio</span>
              </button>
            </div>
          </form>
        </section>

        <!-- OUTRAS SE√á√ïES (LISTA, PERFIL, CONTRATOS, etc.) -->
        <!-- (Todas as outras se√ß√µes permanecem iguais ao c√≥digo anterior) -->

      </main>
    </div>
  </div>

  <!-- MODAL PARA VISUALIZA√á√ÉO -->
  <div class="modal-overlay" id="modalPdf">
    <div class="modal-pdf">
      <div class="modal-header">
        <div class="modal-title" data-i18n="modal_contract_view">Visualiza√ß√£o do Contrato</div>
        <button class="modal-close" id="btnFecharModal">
          <span class="material-icons">close</span>
        </button>
      </div>
      <div class="modal-content" id="modalContent">
        <!-- Conte√∫do do PDF ser√° inserido aqui -->
      </div>
      <div class="modal-actions">
        <button class="btn primary" id="btnImprimirModal">
          <span class="material-icons">print</span> <span data-i18n="modal_print">Imprimir</span>
        </button>
        <button class="btn ghost" id="btnDownloadModal">
          <span class="material-icons">download</span> <span data-i18n="modal_download_pdf">Baixar PDF</span>
        </button>
        <button class="btn link" id="btnFecharModal2" data-i18n="modal_close">
          Fechar
        </button>
      </div>
    </div>
  </div>

  <!-- NOTIFICA√á√ïES -->
  <div class="notification" id="notification"></div>

  <script>
    // ========== SISTEMA MULTIL√çNGUA ==========
    const translations = {
      pt: {
        // Menu e Navega√ß√£o
        "system_name": "Sistema Jur√≠dico",
        "lawyer_name": "Dra. Advogada",
        "lawyer_name_full": "Dra. Advogada",
        "oab_number": "OAB/SP 123.456",
        
        "menu_dashboard": "Dashboard",
        "menu_query": "Consulta",
        "menu_register": "Cadastro",
        "menu_processes": "Processos",
        "menu_profile": "Perfil",
        "menu_contracts": "Contratos",
        "menu_created_contracts": "Contratos Criados",
        "menu_notes": "Anota√ß√µes",
        "menu_interaction": "Intera√ß√£o",
        "menu_tools": "Ferramentas",

        // Sistema de Query
        "query_title": "Sistema de Consulta de Clientes",
        "query_search_type": "Tipo de Busca",
        "query_search_value": "Valor da Busca",
        "query_search_button": "Buscar Cliente",
        "query_placeholder": "Digite o valor para busca...",
        "query_results": "üìã Resultados da Busca:",
        "query_advanced_filters": "Filtros Avan√ßados",
        "query_apply_filters": "Aplicar Filtros",
        "query_clear_filters": "Limpar Filtros",
        "query_export_results": "Exportar Resultados",
        "query_all": "Todos/Todas",
        
        "query_cpf": "CPF",
        "query_name": "Nome",
        "query_email": "Email",
        "query_phone": "Telefone",
        "query_process": "N√∫mero do Processo",
        
        "query_quick_leonardo": "Leonardo H. S. Misalo",
        "query_quick_email": "Email: henriksho27",
        "query_quick_phone": "Telefone: 19966105005",
        "query_quick_process": "Processo: PROC-001",
        
        "query_filter_status": "Status do Processo",
        "query_filter_category": "Categoria",
        "query_filter_date_from": "Data In√≠cio",
        "query_filter_date_to": "Data Fim",

        // Status
        "status_aguardando": "Aguardando Distribui√ß√£o",
        "status_andamento": "Em Andamento",
        "status_finalizado": "Finalizado",

        // Categorias
        "category_civil": "C√≠vel",
        "category_labor": "Trabalhista",
        "category_criminal": "Penal",

        // Dashboard
        "dashboard_total_processes": "Total de Processos",
        "dashboard_active_processes": "Processos Ativos",
        "dashboard_monthly_fees": "Honor√°rios Mensais",
        "dashboard_active_clients": "Clientes Ativos",

        // Gr√°ficos
        "chart_status": "Status dos Processos",
        "chart_fees": "Honor√°rios por Categoria",
        "chart_monthly": "Processos por M√™s",
        "chart_court": "Distribui√ß√£o por Vara",

        // Export
        "export_excel": "Excel",

        // Cadastro
        "register_select_existing": "Selecionar Cliente Existente",
        "register_select_option": "--- selecione um cliente existente ---",
        "register_new_client": "Novo Cliente",
        "register_full_name": "Nome completo *",
        "register_name_placeholder": "Ex: Jos√© da Silva",
        "register_cpf": "CPF",
        "register_cpf_placeholder": "000.000.000-00",
        "register_rg": "RG",
        "register_phone": "Telefone / WhatsApp",
        "register_phone_placeholder": "(11) 9xxxx-xxxx",
        "register_email": "E-mail",
        "register_email_placeholder": "exemplo@dominio.com",
        "register_responsible": "Respons√°vel (advogado)",
        "register_responsible_placeholder": "Dra. Advogada",
        "register_address": "Endere√ßo",
        "register_address_placeholder": "Rua, n¬∫, bairro, cidade - UF",
        "register_save": "Salvar Processo",
        "register_generate_contract": "Gerar Contrato",
        "register_export_pdf": "Exportar PDF",
        "register_clear_form": "Limpar Formul√°rio",

        // Modal
        "modal_contract_view": "Visualiza√ß√£o do Contrato",
        "modal_print": "Imprimir",
        "modal_download_pdf": "Baixar PDF",
        "modal_close": "Fechar"
      },
      en: {
        "system_name": "Legal System",
        "lawyer_name": "Attorney",
        "lawyer_name_full": "Attorney",
        "oab_number": "BAR/SP 123.456",
        
        "menu_dashboard": "Dashboard",
        "menu_query": "Search",
        "menu_register": "Registration",
        "menu_processes": "Processes",
        "menu_profile": "Profile",
        "menu_contracts": "Contracts",
        "menu_created_contracts": "Created Contracts",
        "menu_notes": "Notes",
        "menu_interaction": "Interaction",
        "menu_tools": "Tools",

        "query_title": "Client Search System",
        "query_search_type": "Search Type",
        "query_search_value": "Search Value",
        "query_search_button": "Search Client",
        "query_placeholder": "Enter search value...",
        "query_results": "üìã Search Results:",
        "query_advanced_filters": "Advanced Filters",
        "query_apply_filters": "Apply Filters",
        "query_clear_filters": "Clear Filters",
        "query_export_results": "Export Results",
        "query_all": "All",
        
        "query_cpf": "CPF",
        "query_name": "Name",
        "query_email": "Email",
        "query_phone": "Phone",
        "query_process": "Process Number",
        
        "query_quick_leonardo": "Leonardo H. S. Misalo",
        "query_quick_email": "Email: henriksho27",
        "query_quick_phone": "Phone: 19966105005",
        "query_quick_process": "Process: PROC-001",
        
        "query_filter_status": "Process Status",
        "query_filter_category": "Category",
        "query_filter_date_from": "Start Date",
        "query_filter_date_to": "End Date",

        "status_aguardando": "Waiting Distribution",
        "status_andamento": "In Progress",
        "status_finalizado": "Finished",

        "category_civil": "Civil",
        "category_labor": "Labor",
        "category_criminal": "Criminal",

        "dashboard_total_processes": "Total Processes",
        "dashboard_active_processes": "Active Processes",
        "dashboard_monthly_fees": "Monthly Fees",
        "dashboard_active_clients": "Active Clients",

        "chart_status": "Process Status",
        "chart_fees": "Fees by Category",
        "chart_monthly": "Processes by Month",
        "chart_court": "Distribution by Court",

        "export_excel": "Excel",

        "register_select_existing": "Select Existing Client",
        "register_select_option": "--- select an existing client ---",
        "register_new_client": "New Client",
        "register_full_name": "Full Name *",
        "register_name_placeholder": "Ex: John Smith",
        "register_cpf": "CPF",
        "register_cpf_placeholder": "000.000.000-00",
        "register_rg": "RG",
        "register_phone": "Phone / WhatsApp",
        "register_phone_placeholder": "(11) 9xxxx-xxxx",
        "register_email": "E-mail",
        "register_email_placeholder": "example@domain.com",
        "register_responsible": "Responsible (lawyer)",
        "register_responsible_placeholder": "Attorney",
        "register_address": "Address",
        "register_address_placeholder": "Street, number, neighborhood, city - State",
        "register_save": "Save Process",
        "register_generate_contract": "Generate Contract",
        "register_export_pdf": "Export PDF",
        "register_clear_form": "Clear Form",

        "modal_contract_view": "Contract View",
        "modal_print": "Print",
        "modal_download_pdf": "Download PDF",
        "modal_close": "Close"
      },
      es: {
        "system_name": "Sistema Legal",
        "lawyer_name": "Abogada",
        "lawyer_name_full": "Abogada",
        "oab_number": "BAR/SP 123.456",
        
        "menu_dashboard": "Dashboard",
        "menu_query": "Consulta",
        "menu_register": "Registro",
        "menu_processes": "Procesos",
        "menu_profile": "Perfil",
        "menu_contracts": "Contratos",
        "menu_created_contracts": "Contratos Creados",
        "menu_notes": "Notas",
        "menu_interaction": "Interacci√≥n",
        "menu_tools": "Herramientas",

        "query_title": "Sistema de B√∫squeda de Clientes",
        "query_search_type": "Tipo de B√∫squeda",
        "query_search_value": "Valor de B√∫squeda",
        "query_search_button": "Buscar Cliente",
        "query_placeholder": "Ingrese el valor de b√∫squeda...",
        "query_results": "üìã Resultados de B√∫squeda:",
        "query_advanced_filters": "Filtros Avanzados",
        "query_apply_filters": "Aplicar Filtros",
        "query_clear_filters": "Limpiar Filtros",
        "query_export_results": "Exportar Resultados",
        "query_all": "Todos/Todas",
        
        "query_cpf": "CPF",
        "query_name": "Nombre",
        "query_email": "Email",
        "query_phone": "Tel√©fono",
        "query_process": "N√∫mero de Proceso",
        
        "query_quick_leonardo": "Leonardo H. S. Misalo",
        "query_quick_email": "Email: henriksho27",
        "query_quick_phone": "Tel√©fono: 19966105005",
        "query_quick_process": "Proceso: PROC-001",
        
        "query_filter_status": "Estado del Proceso",
        "query_filter_category": "Categor√≠a",
        "query_filter_date_from": "Fecha Inicio",
        "query_filter_date_to": "Fecha Fin",

        "status_aguardando": "Esperando Distribuci√≥n",
        "status_andamento": "En Progreso",
        "status_finalizado": "Finalizado",

        "category_civil": "Civil",
        "category_labor": "Laboral",
        "category_criminal": "Penal",

        "dashboard_total_processes": "Total de Procesos",
        "dashboard_active_processes": "Procesos Activos",
        "dashboard_monthly_fees": "Honorarios Mensuales",
        "dashboard_active_clients": "Clientes Activos",

        "chart_status": "Estado de los Procesos",
        "chart_fees": "Honorarios por Categor√≠a",
        "chart_monthly": "Procesos por Mes",
        "chart_court": "Distribuci√≥n por Tribunal",

        "export_excel": "Excel",

        "register_select_existing": "Seleccionar Cliente Existente",
        "register_select_option": "--- seleccione un cliente existente ---",
        "register_new_client": "Nuevo Cliente",
        "register_full_name": "Nombre completo *",
        "register_name_placeholder": "Ej: Juan P√©rez",
        "register_cpf": "CPF",
        "register_cpf_placeholder": "000.000.000-00",
        "register_rg": "RG",
        "register_phone": "Tel√©fono / WhatsApp",
        "register_phone_placeholder": "(11) 9xxxx-xxxx",
        "register_email": "Correo electr√≥nico",
        "register_email_placeholder": "ejemplo@dominio.com",
        "register_responsible": "Responsable (abogado)",
        "register_responsible_placeholder": "Abogada",
        "register_address": "Direcci√≥n",
        "register_address_placeholder": "Calle, n√∫mero, barrio, ciudad - Estado",
        "register_save": "Guardar Proceso",
        "register_generate_contract": "Generar Contrato",
        "register_export_pdf": "Exportar PDF",
        "register_clear_form": "Limpiar Formulario",

        "modal_contract_view": "Vista del Contrato",
        "modal_print": "Imprimir",
        "modal_download_pdf": "Descargar PDF",
        "modal_close": "Cerrar"
      },
      fr: {
        "system_name": "Syst√®me Juridique",
        "lawyer_name": "Avocate",
        "lawyer_name_full": "Avocate",
        "oab_number": "BAR/SP 123.456",
        
        "menu_dashboard": "Tableau de Bord",
        "menu_query": "Recherche",
        "menu_register": "Enregistrement",
        "menu_processes": "Processus",
        "menu_profile": "Profil",
        "menu_contracts": "Contrats",
        "menu_created_contracts": "Contrats Cr√©√©s",
        "menu_notes": "Notes",
        "menu_interaction": "Interaction",
        "menu_tools": "Outils",

        "query_title": "Syst√®me de Recherche de Clients",
        "query_search_type": "Type de Recherche",
        "query_search_value": "Valeur de Recherche",
        "query_search_button": "Rechercher Client",
        "query_placeholder": "Entrez la valeur de recherche...",
        "query_results": "üìã R√©sultats de Recherche:",
        "query_advanced_filters": "Filtres Avanc√©s",
        "query_apply_filters": "Appliquer les Filtres",
        "query_clear_filters": "Effacer les Filtres",
        "query_export_results": "Exporter les R√©sultats",
        "query_all": "Tous/Toutes",
        
        "query_cpf": "CPF",
        "query_name": "Nom",
        "query_email": "Email",
        "query_phone": "T√©l√©phone",
        "query_process": "Num√©ro de Processus",
        
        "query_quick_leonardo": "Leonardo H. S. Misalo",
        "query_quick_email": "Email: henriksho27",
        "query_quick_phone": "T√©l√©phone: 19966105005",
        "query_quick_process": "Processus: PROC-001",
        
        "query_filter_status": "Statut du Processus",
        "query_filter_category": "Cat√©gorie",
        "query_filter_date_from": "Date de D√©but",
        "query_filter_date_to": "Date de Fin",

        "status_aguardando": "En Attente de Distribution",
        "status_andamento": "En Cours",
        "status_finalizado": "Termin√©",

        "category_civil": "Civil",
        "category_labor": "Travail",
        "category_criminal": "P√©nal",

        "dashboard_total_processes": "Total des Processus",
        "dashboard_active_processes": "Processus Actifs",
        "dashboard_monthly_fees": "Honoraires Mensuels",
        "dashboard_active_clients": "Clients Actifs",

        "chart_status": "Statut des Processus",
        "chart_fees": "Honoraires par Cat√©gorie",
        "chart_monthly": "Processus par Mois",
        "chart_court": "Distribution par Tribunal",

        "export_excel": "Excel",

        "register_select_existing": "S√©lectionner un Client Existant",
        "register_select_option": "--- s√©lectionnez un client existant ---",
        "register_new_client": "Nouveau Client",
        "register_full_name": "Nom complet *",
        "register_name_placeholder": "Ex: Jean Dupont",
        "register_cpf": "CPF",
        "register_cpf_placeholder": "000.000.000-00",
        "register_rg": "RG",
        "register_phone": "T√©l√©phone / WhatsApp",
        "register_phone_placeholder": "(11) 9xxxx-xxxx",
        "register_email": "E-mail",
        "register_email_placeholder": "exemple@domaine.com",
        "register_responsible": "Responsable (avocat)",
        "register_responsible_placeholder": "Avocate",
        "register_address": "Adresse",
        "register_address_placeholder": "Rue, num√©ro, quartier, ville - √âtat",
        "register_save": "Enregistrer le Processus",
        "register_generate_contract": "G√©n√©rer un Contrat",
        "register_export_pdf": "Exporter PDF",
        "register_clear_form": "Effacer le Formulaire",

        "modal_contract_view": "Vue du Contrat",
        "modal_print": "Imprimer",
        "modal_download_pdf": "T√©l√©charger PDF",
        "modal_close": "Fermer"
      }
    };

    let currentLanguage = 'pt';

    function changeLanguage(lang) {
      currentLanguage = lang;
      
      // Atualizar todos os elementos com data-i18n
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          element.textContent = translations[lang][key];
        }
      });
      
      // Atualizar placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
          element.setAttribute('placeholder', translations[lang][key]);
        }
      });
      
      // Atualizar bot√£o do seletor de idioma
      const langBtn = document.getElementById('langBtn');
      const langText = {
        'pt': 'üåê Portugu√™s',
        'en': 'üåê English', 
        'es': 'üåê Espa√±ol',
        'fr': 'üåê Fran√ßais'
      };
      langBtn.innerHTML = `${langText[lang]} <span class="material-icons">arrow_drop_down</span>`;
      
      // Fechar dropdown
      document.getElementById('langDropdown').classList.remove('show');
      
      // Mostrar notifica√ß√£o
      showNotification('Idioma alterado com sucesso!', 'success');
    }

    // ========== SISTEMA DE QUERY/SEARCH ==========
    function updateSearchLabel() {
      const searchType = document.getElementById('searchType').value;
      const searchLabel = document.getElementById('searchLabel');
      
      const labels = {
        'cpf': 'query_cpf',
        'name': 'query_name', 
        'email': 'query_email',
        'phone': 'query_phone',
        'process': 'query_process'
      };
      
      const key = labels[searchType] || 'query_search_value';
      searchLabel.setAttribute('data-i18n', key);
      
      // Atualizar texto imediatamente
      if (translations[currentLanguage] && translations[currentLanguage][key]) {
        searchLabel.textContent = translations[currentLanguage][key];
      }
    }

    function executeSearch() {
      const searchType = document.getElementById('searchType').value;
      const searchValue = document.getElementById('searchValue').value.trim();
      const filterStatus = document.getElementById('filterStatus').value;
      const filterCategory = document.getElementById('filterCategory').value;
      const filterDateFrom = document.getElementById('filterDateFrom').value;
      const filterDateTo = document.getElementById('filterDateTo').value;
      
      if (!searchValue) {
        showNotification('Por favor, digite um valor para busca!', 'error');
        return;
      }

      showNotification('Buscando clientes...', 'info');
      
      // Simular busca
      setTimeout(() => {
        const processos = carregarProcessos();
        const clientes = carregarClientes();
        
        let results = [];
        
        // Aplicar filtros
        processos.forEach(processo => {
          let matchesSearch = false;
          let matchesFilters = true;
          
          // Verificar busca principal
          const searchTerm = searchValue.toLowerCase();
          switch(searchType) {
            case 'cpf':
              matchesSearch = processo.cpf && processo.cpf.includes(searchTerm);
              break;
            case 'name':
              matchesSearch = processo.nome.toLowerCase().includes(searchTerm);
              break;
            case 'email':
              matchesSearch = processo.email && processo.email.toLowerCase().includes(searchTerm);
              break;
            case 'phone':
              matchesSearch = processo.telefone && processo.telefone.includes(searchTerm);
              break;
            case 'process':
              matchesSearch = processo.numero && processo.numero.includes(searchTerm);
              break;
          }
          
          // Verificar filtros
          if (filterStatus && processo.status !== filterStatus) {
            matchesFilters = false;
          }
          if (filterCategory && processo.categoria !== filterCategory) {
            matchesFilters = false;
          }
          if (filterDateFrom && processo.dataAbertura < filterDateFrom) {
            matchesFilters = false;
          }
          if (filterDateTo && processo.dataAbertura > filterDateTo) {
            matchesFilters = false;
          }
          
          if (matchesSearch && matchesFilters) {
            const cliente = clientes.find(c => c.id === processo.clienteId);
            if (cliente) {
              results.push({
                ...processo,
                clienteInfo: cliente
              });
            }
          }
        });
        
        displaySearchResults(results);
        showNotification(`${results.length} resultados encontrados`, 'success');
      }, 1000);
    }

    function displaySearchResults(results) {
      const resultsContainer = document.getElementById('searchResults');
      const resultsList = document.getElementById('resultsList');
      
      if (results.length === 0) {
        resultsList.innerHTML = '<p>‚ùå Nenhum cliente encontrado com os crit√©rios informados.</p>';
        resultsContainer.style.display = 'block';
        return;
      }
      
      resultsList.innerHTML = results.map(result => `
        <div class="result-item" onclick="selectClientFromSearch('${result.clienteId}')">
          <strong>${result.nome}</strong><br>
          <small>üìß ${result.email || 'N√£o informado'} | üìû ${result.telefone || 'N√£o informado'}</small><br>
          <small>üî¢ CPF: ${result.cpf || 'N√£o informado'} | üìÅ Processo: ${result.numero || 'N√£o informado'}</small><br>
          <small>üìä Status: ${result.status} | üè∑Ô∏è Categoria: ${result.categoria || 'N√£o informado'}</small>
        </div>
      `).join('');
      
      resultsContainer.style.display = 'block';
    }

    function quickSearch(value) {
      document.getElementById('searchValue').value = value;
      executeSearch();
    }

    function selectClientFromSearch(clientId) {
      // Navegar para a aba de perfil e selecionar o cliente
      document.querySelector('[data-tab="perfil"]').click();
      setTimeout(() => {
        document.getElementById('selectClientePerfil').value = clientId;
        document.getElementById('selectClientePerfil').dispatchEvent(new Event('change'));
      }, 500);
    }

    // ========== SISTEMA DE NOTIFICA√á√ïES ==========
    function showNotification(message, type = 'info') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification ${type} show`;
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    // ========== INICIALIZA√á√ÉO ==========
    document.addEventListener('DOMContentLoaded', function() {
      // Inicializar sistema de idiomas
      changeLanguage('pt');
      
      // Configurar eventos do seletor de idioma
      document.getElementById('langBtn').addEventListener('click', function() {
        document.getElementById('langDropdown').classList.toggle('show');
      });
      
      document.querySelectorAll('.lang-option').forEach(option => {
        option.addEventListener('click', function() {
          const lang = this.getAttribute('data-lang');
          changeLanguage(lang);
        });
      });
      
      // Fechar dropdown ao clicar fora
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.language-selector')) {
          document.getElementById('langDropdown').classList.remove('show');
        }
      });
      
      // Configurar sistema de query
      document.getElementById('searchType').addEventListener('change', updateSearchLabel);
      document.getElementById('executeSearch').addEventListener('click', executeSearch);
      document.getElementById('applyFilters').addEventListener('click', executeSearch);
      document.getElementById('clearFilters').addEventListener('click', function() {
        document.getElementById('filterStatus').value = '';
        document.getElementById('filterCategory').value = '';
        document.getElementById('filterDateFrom').value = '';
        document.getElementById('filterDateTo').value = '';
        document.getElementById('searchValue').value = '';
        document.getElementById('searchResults').style.display = 'none';
      });
      document.getElementById('exportQueryResults').addEventListener('click', function() {
        // Implementar exporta√ß√£o de resultados
        showNotification('Exporta√ß√£o de resultados em desenvolvimento', 'info');
      });
      
      // Inicializar outros sistemas
      updateSearchLabel();
      
      // Configurar navega√ß√£o entre abas
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const tab = this.getAttribute('data-tab');
          
          // Atualizar bot√µes ativos
          document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          // Mostrar aba correspondente
          document.querySelectorAll('.tab').forEach(t => t.style.display = 'none');
          document.getElementById(tab).style.display = 'block';
          
          // Atualizar t√≠tulo da p√°gina
          const pageTitle = document.getElementById('pageTitle');
          const icon = pageTitle.querySelector('.material-icons');
          const titleMap = {
            'dashboard': ['dashboard', 'menu_dashboard'],
            'query': ['search', 'menu_query'],
            'cadastro': ['person_add', 'menu_register'],
            'lista': ['folder_open', 'menu_processes'],
            'perfil': ['person', 'menu_profile'],
            'contratos': ['description', 'menu_contracts'],
            'contratos-criados': ['folder_open', 'menu_created_contracts'],
            'anotacoes': ['note_add', 'menu_notes'],
            'interacao': ['people', 'menu_interaction'],
            'ferramentas': ['build', 'menu_tools']
          };
          
          if (titleMap[tab]) {
            icon.textContent = titleMap[tab][0];
            const titleElement = pageTitle.querySelector('span:last-child');
            titleElement.setAttribute('data-i18n', titleMap[tab][1]);
            if (translations[currentLanguage] && translations[currentLanguage][titleMap[tab][1]]) {
              titleElement.textContent = translations[currentLanguage][titleMap[tab][1]];
            }
          }
        });
      });
      
      // Resto da inicializa√ß√£o do sistema...
      // (Manter toda a l√≥gica existente de inicializa√ß√£o)
    });

    // ========== FUN√á√ïES DE ARMAZENAMENTO E L√ìGICA DO SISTEMA ==========
    // (Manter todas as fun√ß√µes existentes de armazenamento, 
    //  cadastro, processos, contratos, etc.)

    // Exemplo de algumas fun√ß√µes mantidas:
    const DB_KEY = 'processos_juridicos';
    const CLIENTES_KEY = 'clientes_juridicos';

    function carregarProcessos() {
      const data = localStorage.getItem(DB_KEY);
      return data ? JSON.parse(data) : [];
    }

    function carregarClientes() {
      const data = localStorage.getItem(CLIENTES_KEY);
      return data ? JSON.parse(data) : [];
    }

    function salvarProcessos(processos) {
      localStorage.setItem(DB_KEY, JSON.stringify(processos));
    }

    function salvarClientes(clientes) {
      localStorage.setItem(CLIENTES_KEY, JSON.stringify(clientes));
    }

    // ... (Todas as outras fun√ß√µes do sistema)

  </script>
</body>
</html>
