<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Jurídico - Dra. Advogada</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --bg: #f4f6fb;
            --sidebar: #0f1724;
            --card: #ffffff;
            --muted: #556179;
            --primary: #3366ff;
            --accent: #2b61ff;
            --success: #0ea44e;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: #0b1b2b;
            line-height: 1.6;
        }

        .app {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: var(--sidebar);
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            width: 100%;
            text-align: left;
            border-radius: 8px;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .container {
            background: var(--card);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        h1, h2, h3 {
            color: #0b1b2b;
            margin-bottom: 16px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--muted);
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(51, 102, 255, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-ghost {
            background: transparent;
            border: 1px solid #ddd;
            color: var(--muted);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: #f8fafc;
            font-weight: 600;
            color: var(--muted);
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-aguardando { background: #fef3c7; color: #92400e; }
        .status-andamento { background: #dbeafe; color: #1e40af; }
        .status-finalizado { background: #d1fae5; color: #065f46; }

        /* Parcelas */
        .parcelas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .parcela-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }

        .parcela-item.paga {
            border-left: 4px solid var(--success);
        }

        .parcela-item.pendente {
            border-left: 4px solid var(--danger);
        }

        .parcela-btn {
            width: 100%;
            padding: 8px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 8px;
        }

        .parcela-btn.paga {
            background: var(--success);
            color: white;
        }

        .parcela-btn.pendente {
            background: var(--danger);
            color: white;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--muted);
        }

        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
            margin: 8px 0;
        }

        .stat-label {
            color: var(--muted);
            font-weight: 600;
        }

        /* Tabs */
        .tab {
            display: none;
        }

        .tab.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Alert */
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }

        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }

        /* Calculadora de Honorários */
        .calc-container {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid var(--primary);
        }

        .calc-result {
            margin-top: 16px;
            padding: 16px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .calc-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin: 8px 0;
        }

        /* Upload de Imagens */
        .upload-area {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: #f8fafc;
        }

        .imagens-lista {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .imagem-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .imagem-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .imagem-info {
            padding: 8px;
            background: white;
        }

        .imagem-nome {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .imagem-meta {
            font-size: 10px;
            color: var(--muted);
        }

        .imagem-acoes {
            position: absolute;
            top: 4px;
            right: 4px;
        }

        /* Anotações */
        .anotacoes-lista {
            margin-top: 20px;
        }

        .anotacao-item {
            background: #f8fafc;
            border-left: 4px solid var(--primary);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .anotacao-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
            color: var(--muted);
        }

        .anotacao-texto {
            font-size: 14px;
            line-height: 1.5;
        }

        .anotacao-acoes {
            margin-top: 8px;
            display: flex;
            gap: 8px;
        }

        /* Perfil do Cliente */
        .perfil-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e2e8f0;
        }

        .perfil-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
        }

        .perfil-info {
            flex: 1;
        }

        .perfil-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .info-item {
            background: #f8fafc;
            padding: 16px;
            border-radius: 8px;
        }

        .info-label {
            font-size: 12px;
            color: var(--muted);
            font-weight: 600;
            margin-bottom: 4px;
        }

        .info-value {
            font-size: 14px;
            color: #0b1b2b;
        }

        /* Contratos */
        .contrato-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: white;
        }

        .contrato-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .contrato-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .contrato-subtitle {
            font-size: 14px;
            color: #666;
        }

        .contrato-section {
            margin-bottom: 20px;
        }

        .contrato-section-title {
            font-weight: bold;
            margin-bottom: 10px;
            border-bottom: 1px solid #000;
        }

        .contrato-field {
            margin-bottom: 8px;
        }

        .contrato-label {
            font-weight: bold;
        }

        .contrato-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
        }

        .signature-line {
            margin-bottom: 40px;
        }

        .contrato-actions {
            margin-top: 20px;
            text-align: center;
        }

        /* Recibos */
        .recibo-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 30px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: white;
        }

        .recibo-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .recibo-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .recibo-detalhes {
            margin-bottom: 20px;
        }

        .recibo-valor {
            text-align: center;
            margin: 30px 0;
            font-size: 24px;
            font-weight: bold;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                padding: 16px;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }

            .perfil-header {
                flex-direction: column;
                text-align: center;
            }

            .contrato-signatures {
                flex-direction: column;
                gap: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand">
                <div class="logo">⚖️</div>
                <div>
                    <h3>Sistema Jurídico</h3>
                    <small>Dra. Advogada</small>
                </div>
            </div>

            <nav>
                <button class="nav-btn active" data-tab="dashboard">
                    <span class="material-icons">dashboard</span>
                    Dashboard
                </button>
                <button class="nav-btn" data-tab="cadastro">
                    <span class="material-icons">person_add</span>
                    Cadastro
                </button>
                <button class="nav-btn" data-tab="processos">
                    <span class="material-icons">folder_open</span>
                    Processos
                </button>
                <button class="nav-btn" data-tab="perfil">
                    <span class="material-icons">person</span>
                    Perfil
                </button>
                <button class="nav-btn" data-tab="parcelas">
                    <span class="material-icons">payments</span>
                    Parcelas
                </button>
                <button class="nav-btn" data-tab="contratos">
                    <span class="material-icons">description</span>
                    Contratos
                </button>
                <button class="nav-btn" data-tab="relatorios">
                    <span class="material-icons">assessment</span>
                    Relatórios
                </button>
            </nav>

            <div style="margin-top: auto; padding: 16px; text-align: center; color: rgba(255,255,255,0.6); font-size: 12px;">
                <div>Dra. Advogada</div>
                <div>OAB/SP 123.456</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="topbar">
                <h1 id="page-title">Dashboard</h1>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span id="user-name">Dra. Advogada</span>
                    <div style="width: 40px; height: 40px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">DA</div>
                </div>
            </div>

            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total de Processos</div>
                        <div class="stat-value" id="total-processos">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Processos Ativos</div>
                        <div class="stat-value" id="processos-ativos">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Honorários Mensais</div>
                        <div class="stat-value" id="honorarios-mensais">R$ 0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Parcelas Pendentes</div>
                        <div class="stat-value" id="parcelas-pendentes">0</div>
                    </div>
                </div>

                <div class="container">
                    <h2>Processos Recentes</h2>
                    <div id="processos-recentes">
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Nenhum processo cadastrado ainda.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Cadastro Tab -->
            <div id="cadastro" class="tab">
                <div class="container">
                    <h2>Cadastro de Processo</h2>
                    <div id="alert-cadastro"></div>
                    
                    <form id="form-processo">
                        <div class="grid">
                            <div class="form-group">
                                <label for="cliente-nome">Nome do Cliente *</label>
                                <input type="text" id="cliente-nome" required>
                            </div>
                            <div class="form-group">
                                <label for="cliente-cpf">CPF</label>
                                <input type="text" id="cliente-cpf" placeholder="000.000.000-00">
                            </div>
                        </div>

                        <div class="grid">
                            <div class="form-group">
                                <label for="processo-numero">Número do Processo</label>
                                <input type="text" id="processo-numero" placeholder="0000000-00.0000.0.00.0000">
                            </div>
                            <div class="form-group">
                                <label for="processo-categoria">Categoria</label>
                                <select id="processo-categoria">
                                    <option value="">Selecione...</option>
                                    <option value="Cível">Cível</option>
                                    <option value="Trabalhista">Trabalhista</option>
                                    <option value="Penal">Penal</option>
                                    <option value="Família">Família</option>
                                    <option value="Consumidor">Consumidor</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid">
                            <div class="form-group">
                                <label for="processo-vara">Vara/Comarca</label>
                                <input type="text" id="processo-vara">
                            </div>
                            <div class="form-group">
                                <label for="processo-status">Status</label>
                                <select id="processo-status">
                                    <option value="Aguardando Distribuição">Aguardando Distribuição</option>
                                    <option value="Em Andamento">Em Andamento</option>
                                    <option value="Aguardando Decisão">Aguardando Decisão</option>
                                    <option value="Finalizado">Finalizado</option>
                                </select>
                            </div>
                        </div>

                        <!-- Calculadora de Honorários -->
                        <div class="calc-container">
                            <h3 style="margin-top: 0; color: var(--primary);">Calculadora de Honorários</h3>
                            <div class="grid">
                                <div class="form-group">
                                    <label for="custos-fixos">Custos Fixos Mensais (R$)</label>
                                    <input type="number" id="custos-fixos" step="0.01" placeholder="5000.00" value="5000">
                                </div>
                                <div class="form-group">
                                    <label for="horas-trabalho">Horas Estimadas</label>
                                    <input type="number" id="horas-trabalho" placeholder="20" value="20">
                                </div>
                                <div class="form-group">
                                    <label for="valor-hora">Valor por Hora (R$)</label>
                                    <input type="number" id="valor-hora" step="0.01" placeholder="150.00" value="150">
                                </div>
                                <div class="form-group">
                                    <label for="percentual-lucro">Percentual de Lucro (%)</label>
                                    <input type="number" id="percentual-lucro" step="0.1" placeholder="30" value="30">
                                </div>
                            </div>
                            <div class="actions">
                                <button type="button" class="btn btn-primary" id="btn-calcular-honorarios">
                                    <span class="material-icons">calculate</span>
                                    Calcular Honorários Mínimos
                                </button>
                            </div>
                            <div id="resultado-calculo" class="calc-result" style="display: none;">
                                <div style="font-weight: bold; color: var(--primary);">Honorários Mínimos Recomendados:</div>
                                <div class="calc-value" id="valor-honorarios-minimos">R$ 0,00</div>
                                <div id="detalhes-calculo" style="font-size: 12px; color: var(--muted); margin-top: 8px;"></div>
                            </div>
                        </div>

                        <div class="grid">
                            <div class="form-group">
                                <label for="valor-causa">Valor da Causa (R$)</label>
                                <input type="number" id="valor-causa" step="0.01" placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label for="valor-honorarios">Honorários (R$)</label>
                                <input type="number" id="valor-honorarios" step="0.01" placeholder="0.00">
                            </div>
                        </div>

                        <div class="grid">
                            <div class="form-group">
                                <label for="forma-pagamento">Forma de Pagamento</label>
                                <select id="forma-pagamento">
                                    <option value="">Selecione...</option>
                                    <option value="À Vista">À Vista</option>
                                    <option value="Parcelado">Parcelado</option>
                                    <option value="Sucumbência">Sucumbência</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="quantidade-parcelas">Quantidade de Parcelas</label>
                                <input type="number" id="quantidade-parcelas" min="1" placeholder="Ex: 12" disabled>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="observacoes">Observações</label>
                            <textarea id="observacoes" rows="4"></textarea>
                        </div>

                        <div class="actions">
                            <button type="submit" class="btn btn-primary">
                                <span class="material-icons">save</span>
                                Salvar Processo
                            </button>
                            <button type="button" class="btn btn-ghost" id="btn-limpar">
                                <span class="material-icons">clear</span>
                                Limpar
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Processos Tab -->
            <div id="processos" class="tab">
                <div class="container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2>Processos Cadastrados</h2>
                        <div style="display: flex; gap: 12px;">
                            <input type="text" id="search-processos" placeholder="Pesquisar..." style="padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px;">
                            <button class="btn btn-ghost" id="btn-exportar">
                                <span class="material-icons">download</span>
                                Exportar
                            </button>
                        </div>
                    </div>

                    <div id="tabela-processos">
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Nenhum processo encontrado.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Perfil Tab -->
            <div id="perfil" class="tab">
                <div class="container">
                    <div style="margin-bottom: 20px;">
                        <label for="select-processo-perfil">Selecionar Processo</label>
                        <select id="select-processo-perfil">
                            <option value="">Selecione um processo...</option>
                        </select>
                    </div>

                    <div id="perfil-conteudo">
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Selecione um processo para visualizar o perfil completo.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Parcelas Tab -->
            <div id="parcelas" class="tab">
                <div class="container">
                    <h2>Gerenciamento de Parcelas</h2>
                    
                    <div class="form-group">
                        <label for="select-processo-parcelas">Selecionar Processo</label>
                        <select id="select-processo-parcelas">
                            <option value="">Selecione um processo...</option>
                        </select>
                    </div>

                    <div id="parcelas-container">
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Selecione um processo para visualizar as parcelas.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Contratos Tab -->
            <div id="contratos" class="tab">
                <div class="container">
                    <h2>Contratos e Documentos</h2>
                    
                    <div class="form-group">
                        <label for="select-processo-contrato">Selecionar Processo</label>
                        <select id="select-processo-contrato">
                            <option value="">Selecione um processo...</option>
                        </select>
                    </div>

                    <div id="contratos-container">
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Selecione um processo para gerar contratos e recibos.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Relatórios Tab -->
            <div id="relatorios" class="tab">
                <div class="container">
                    <h2>Relatórios e Estatísticas</h2>
                    
                    <div class="grid">
                        <div class="form-group">
                            <label for="relatorio-tipo">Tipo de Relatório</label>
                            <select id="relatorio-tipo">
                                <option value="processos-por-status">Processos por Status</option>
                                <option value="honorarios-por-mes">Honorários por Mês</option>
                                <option value="parcelas-pendentes">Parcelas Pendentes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="relatorio-periodo">Período</label>
                            <select id="relatorio-periodo">
                                <option value="30">Últimos 30 dias</option>
                                <option value="90">Últimos 90 dias</option>
                                <option value="365">Último ano</option>
                                <option value="tudo">Todo o período</option>
                            </select>
                        </div>
                    </div>

                    <div class="actions">
                        <button class="btn btn-primary" id="btn-gerar-relatorio">
                            <span class="material-icons">assessment</span>
                            Gerar Relatório
                        </button>
                        <button class="btn btn-success" id="btn-exportar-relatorio">
                            <span class="material-icons">download</span>
                            Exportar PDF
                        </button>
                    </div>

                    <div id="relatorio-conteudo" style="margin-top: 30px;">
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Gere um relatório para visualizar os dados.
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para Detalhes do Processo -->
    <div id="modal-processo" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Detalhes do Processo</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="modal-processo-conteudo">
                <!-- Conteúdo será preenchido via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal para Adicionar Anotação -->
    <div id="modal-anotacao" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar Anotação</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div>
                <div class="form-group">
                    <label for="anotacao-texto">Anotação</label>
                    <textarea id="anotacao-texto" rows="6" placeholder="Digite sua anotação aqui..."></textarea>
                </div>
                <div class="actions">
                    <button class="btn btn-primary" id="btn-salvar-anotacao">
                        <span class="material-icons">save</span>
                        Salvar Anotação
                    </button>
                    <button class="btn btn-ghost" onclick="fecharModal('modal-anotacao')">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Visualizar Contrato -->
    <div id="modal-contrato" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Contrato de Prestação de Serviços</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="modal-contrato-conteudo">
                <!-- Conteúdo será preenchido via JavaScript -->
            </div>
            <div class="actions" style="margin-top: 20px;">
                <button class="btn btn-primary" id="btn-imprimir-contrato">
                    <span class="material-icons">print</span>
                    Imprimir
                </button>
                <button class="btn btn-success" id="btn-download-contrato">
                    <span class="material-icons">download</span>
                    Baixar PDF
                </button>
                <button class="btn btn-ghost" onclick="fecharModal('modal-contrato')">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para Visualizar Recibo -->
    <div id="modal-recibo" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Recibo de Pagamento</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="modal-recibo-conteudo">
                <!-- Conteúdo será preenchido via JavaScript -->
            </div>
            <div class="actions" style="margin-top: 20px;">
                <button class="btn btn-primary" id="btn-imprimir-recibo">
                    <span class="material-icons">print</span>
                    Imprimir
                </button>
                <button class="btn btn-success" id="btn-download-recibo">
                    <span class="material-icons">download</span>
                    Baixar PDF
                </button>
                <button class="btn btn-ghost" onclick="fecharModal('modal-recibo')">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <script>
        // Sistema de Armazenamento
        const STORAGE_KEYS = {
            PROCESSOS: 'sistema_juridico_processos',
            PARCELAS: 'sistema_juridico_parcelas',
            IMAGENS: 'sistema_juridico_imagens',
            ANOTACOES: 'sistema_juridico_anotacoes',
            CONTRATOS: 'sistema_juridico_contratos'
        };

        // Funções de Armazenamento
        function salvarProcessos(processos) {
            localStorage.setItem(STORAGE_KEYS.PROCESSOS, JSON.stringify(processos));
        }

        function carregarProcessos() {
            const data = localStorage.getItem(STORAGE_KEYS.PROCESSOS);
            return data ? JSON.parse(data) : [];
        }

        function salvarParcelas(parcelas) {
            localStorage.setItem(STORAGE_KEYS.PARCELAS, JSON.stringify(parcelas));
        }

        function carregarParcelas() {
            const data = localStorage.getItem(STORAGE_KEYS.PARCELAS);
            return data ? JSON.parse(data) : [];
        }

        function salvarImagens(imagens) {
            localStorage.setItem(STORAGE_KEYS.IMAGENS, JSON.stringify(imagens));
        }

        function carregarImagens() {
            const data = localStorage.getItem(STORAGE_KEYS.IMAGENS);
            return data ? JSON.parse(data) : [];
        }

        function salvarAnotacoes(anotacoes) {
            localStorage.setItem(STORAGE_KEYS.ANOTACOES, JSON.stringify(anotacoes));
        }

        function carregarAnotacoes() {
            const data = localStorage.getItem(STORAGE_KEYS.ANOTACOES);
            return data ? JSON.parse(data) : [];
        }

        function salvarContratos(contratos) {
            localStorage.setItem(STORAGE_KEYS.CONTRATOS, JSON.stringify(contratos));
        }

        function carregarContratos() {
            const data = localStorage.getItem(STORAGE_KEYS.CONTRATOS);
            return data ? JSON.parse(data) : [];
        }

        // Sistema de Navegação
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // Remover classe active de todos os botões
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                // Adicionar classe active ao botão clicado
                btn.classList.add('active');
                
                // Esconder todas as abas
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
                // Mostrar aba correspondente
                const tabId = btn.dataset.tab;
                document.getElementById(tabId).classList.add('active');
                
                // Atualizar título da página
                document.getElementById('page-title').textContent = btn.textContent.trim();
                
                // Atualizar dados específicos da aba
                if (tabId === 'dashboard') {
                    atualizarDashboard();
                } else if (tabId === 'processos') {
                    carregarTabelaProcessos();
                } else if (tabId === 'perfil') {
                    atualizarSelectProcessosPerfil();
                } else if (tabId === 'parcelas') {
                    atualizarSelectProcessosParcelas();
                } else if (tabId === 'contratos') {
                    atualizarSelectProcessosContratos();
                }
            });
        });

        // Calculadora de Honorários
        document.getElementById('btn-calcular-honorarios').addEventListener('click', function() {
            const custosFixos = parseFloat(document.getElementById('custos-fixos').value) || 0;
            const horasTrabalho = parseInt(document.getElementById('horas-trabalho').value) || 0;
            const valorHora = parseFloat(document.getElementById('valor-hora').value) || 0;
            const percentualLucro = parseFloat(document.getElementById('percentual-lucro').value) || 0;

            if (custosFixos <= 0 || horasTrabalho <= 0 || valorHora <= 0) {
                mostrarAlerta('alert-cadastro', 'Preencha todos os campos da calculadora.', 'error');
                return;
            }

            // Cálculo dos honorários mínimos
            const custoHoras = horasTrabalho * valorHora;
            const custoFixoProporcional = custosFixos * 0.1; // 10% dos custos fixos
            const custoTotal = custoHoras + custoFixoProporcional;
            const honorariosMinimos = custoTotal * (1 + (percentualLucro / 100));

            // Exibir resultado
            document.getElementById('valor-honorarios-minimos').textContent = 
                `R$ ${honorariosMinimos.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
            
            document.getElementById('detalhes-calculo').innerHTML = `
                <strong>Detalhamento:</strong><br>
                • Custo horas (${horasTrabalho}h × R$ ${valorHora.toLocaleString('pt-BR', {minimumFractionDigits: 2})}): R$ ${custoHoras.toLocaleString('pt-BR', {minimumFractionDigits: 2})}<br>
                • Custo fixo proporcional (10% de R$ ${custosFixos.toLocaleString('pt-BR', {minimumFractionDigits: 2})}): R$ ${custoFixoProporcional.toLocaleString('pt-BR', {minimumFractionDigits: 2})}<br>
                • Custo total: R$ ${custoTotal.toLocaleString('pt-BR', {minimumFractionDigits: 2})}<br>
                • Lucro (${percentualLucro}%): R$ ${(honorariosMinimos - custoTotal).toLocaleString('pt-BR', {minimumFractionDigits: 2})}
            `;

            document.getElementById('resultado-calculo').style.display = 'block';
            
            // Preencher automaticamente o campo de honorários
            document.getElementById('valor-honorarios').value = honorariosMinimos.toFixed(2);
        });

        // Controle de Formulário de Parcelas
        document.getElementById('forma-pagamento').addEventListener('change', function() {
            const parcelasInput = document.getElementById('quantidade-parcelas');
            if (this.value === 'Parcelado') {
                parcelasInput.disabled = false;
                parcelasInput.required = true;
            } else {
                parcelasInput.disabled = true;
                parcelasInput.required = false;
                parcelasInput.value = '';
            }
        });

        // Formulário de Cadastro de Processo
        document.getElementById('form-processo').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const processo = {
                id: Date.now().toString(),
                clienteNome: document.getElementById('cliente-nome').value,
                clienteCpf: document.getElementById('cliente-cpf').value,
                numero: document.getElementById('processo-numero').value,
                categoria: document.getElementById('processo-categoria').value,
                vara: document.getElementById('processo-vara').value,
                status: document.getElementById('processo-status').value,
                valorCausa: parseFloat(document.getElementById('valor-causa').value) || 0,
                honorarios: parseFloat(document.getElementById('valor-honorarios').value) || 0,
                formaPagamento: document.getElementById('forma-pagamento').value,
                parcelas: parseInt(document.getElementById('quantidade-parcelas').value) || 0,
                observacoes: document.getElementById('observacoes').value,
                dataCadastro: new Date().toISOString(),
                parcelasPagas: 0
            };

            // Salvar processo
            const processos = carregarProcessos();
            processos.push(processo);
            salvarProcessos(processos);

            // Criar parcelas se for pagamento parcelado
            if (processo.formaPagamento === 'Parcelado' && processo.parcelas > 0) {
                const parcelas = carregarParcelas();
                const valorParcela = processo.honorarios / processo.parcelas;
                
                for (let i = 1; i <= processo.parcelas; i++) {
                    const dataVencimento = new Date();
                    dataVencimento.setMonth(dataVencimento.getMonth() + i);
                    
                    parcelas.push({
                        id: processo.id + '_' + i,
                        processoId: processo.id,
                        numero: i,
                        valor: valorParcela,
                        dataVencimento: dataVencimento.toISOString(),
                        status: 'pendente',
                        dataPagamento: null
                    });
                }
                salvarParcelas(parcelas);
            }

            // Criar contrato automaticamente
            criarContratoAutomatico(processo);

            mostrarAlerta('alert-cadastro', 'Processo cadastrado com sucesso!', 'success');
            this.reset();
            document.getElementById('quantidade-parcelas').disabled = true;
            document.getElementById('resultado-calculo').style.display = 'none';
            
            // Atualizar dashboard
            atualizarDashboard();
        });

        // Botão Limpar Formulário
        document.getElementById('btn-limpar').addEventListener('click', function() {
            document.getElementById('form-processo').reset();
            document.getElementById('quantidade-parcelas').disabled = true;
            document.getElementById('resultado-calculo').style.display = 'none';
        });

        // Função para mostrar alertas
        function mostrarAlerta(containerId, mensagem, tipo) {
            const container = document.getElementById(containerId);
            const alertClass = tipo === 'success' ? 'alert-success' : 'alert-error';
            const icon = tipo === 'success' ? 'check_circle' : 'error';
            
            container.innerHTML = `
                <div class="alert ${alertClass}">
                    <span class="material-icons">${icon}</span>
                    ${mensagem}
                </div>
            `;
            
            setTimeout(() => {
                container.innerHTML = '';
            }, 5000);
        }

        // Atualizar Dashboard
        function atualizarDashboard() {
            const processos = carregarProcessos();
            const parcelas = carregarParcelas();
            
            // Estatísticas
            document.getElementById('total-processos').textContent = processos.length;
            document.getElementById('processos-ativos').textContent = processos.filter(p => 
                p.status !== 'Finalizado' && p.status !== 'Arquivado'
            ).length;
            
            const honorariosTotais = processos.reduce((total, p) => total + (p.honorarios || 0), 0);
            document.getElementById('honorarios-mensais').textContent = `R$ ${honorariosTotais.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
            
            const parcelasPendentes = parcelas.filter(p => p.status === 'pendente').length;
            document.getElementById('parcelas-pendentes').textContent = parcelasPendentes;
            
            // Processos Recentes
            const processosRecentes = processos.slice(-5).reverse();
            const container = document.getElementById('processos-recentes');
            
            if (processosRecentes.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); padding: 40px;">Nenhum processo cadastrado ainda.</p>';
            } else {
                container.innerHTML = `
                    <table>
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Número</th>
                                <th>Status</th>
                                <th>Valor</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${processosRecentes.map(processo => `
                                <tr>
                                    <td>${processo.clienteNome}</td>
                                    <td>${processo.numero || 'N/A'}</td>
                                    <td><span class="status-badge status-${processo.status.toLowerCase().replace(' ', '-')}">${processo.status}</span></td>
                                    <td>R$ ${(processo.honorarios || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</td>
                                    <td>
                                        <button class="btn btn-ghost" onclick="verDetalhesProcesso('${processo.id}')" style="padding: 4px 8px; font-size: 12px;">
                                            <span class="material-icons" style="font-size: 16px;">visibility</span>
                                            Ver
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            }
        }

        // Carregar Tabela de Processos
        function carregarTabelaProcessos() {
            const processos = carregarProcessos();
            const container = document.getElementById('tabela-processos');
            
            if (processos.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); padding: 40px;">Nenhum processo encontrado.</p>';
                return;
            }
            
            container.innerHTML = `
                <table>
                    <thead>
                        <tr>
                            <th>Cliente</th>
                            <th>CPF</th>
                            <th>Número</th>
                            <th>Categoria</th>
                            <th>Status</th>
                            <th>Honorários</th>
                            <th>Parcelas</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${processos.map(processo => {
                            const parcelasProcesso = carregarParcelas().filter(p => p.processoId === processo.id);
                            const parcelasPagas = parcelasProcesso.filter(p => p.status === 'paga').length;
                            const totalParcelas = processo.parcelas || parcelasProcesso.length;
                            
                            return `
                                <tr>
                                    <td>${processo.clienteNome}</td>
                                    <td>${processo.clienteCpf || 'N/A'}</td>
                                    <td>${processo.numero || 'N/A'}</td>
                                    <td>${processo.categoria || 'N/A'}</td>
                                    <td>
                                        <select onchange="atualizarStatusProcesso('${processo.id}', this.value)" style="padding: 4px 8px; border: 1px solid #ddd; border-radius: 4px;">
                                            <option value="Aguardando Distribuição" ${processo.status === 'Aguardando Distribuição' ? 'selected' : ''}>Aguardando Distribuição</option>
                                            <option value="Em Andamento" ${processo.status === 'Em Andamento' ? 'selected' : ''}>Em Andamento</option>
                                            <option value="Aguardando Decisão" ${processo.status === 'Aguardando Decisão' ? 'selected' : ''}>Aguardando Decisão</option>
                                            <option value="Finalizado" ${processo.status === 'Finalizado' ? 'selected' : ''}>Finalizado</option>
                                        </select>
                                    </td>
                                    <td>R$ ${(processo.honorarios || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</td>
                                    <td>${processo.formaPagamento === 'Parcelado' ? `${parcelasPagas}/${totalParcelas}` : 'À Vista'}</td>
                                    <td>
                                        <button class="btn btn-ghost" onclick="verDetalhesProcesso('${processo.id}')" style="padding: 4px 8px; font-size: 12px;">
                                            <span class="material-icons" style="font-size: 16px;">visibility</span>
                                        </button>
                                        <button class="btn btn-danger" onclick="excluirProcesso('${processo.id}')" style="padding: 4px 8px; font-size: 12px;">
                                            <span class="material-icons" style="font-size: 16px;">delete</span>
                                        </button>
                                    </td>
                                </tr>
                            `;
                        }).join('')}
                    </tbody>
                </table>
            `;
        }

        // Funções Globais para Processos
        window.verDetalhesProcesso = function(id) {
            const processos = carregarProcessos();
            const processo = processos.find(p => p.id === id);
            if (!processo) return;
            
            const parcelas = carregarParcelas().filter(p => p.processoId === id);
            
            document.getElementById('modal-processo-conteudo').innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h4>Dados do Cliente</h4>
                    <p><strong>Nome:</strong> ${processo.clienteNome}</p>
                    <p><strong>CPF:</strong> ${processo.clienteCpf || 'Não informado'}</p>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <h4>Dados do Processo</h4>
                    <p><strong>Número:</strong> ${processo.numero || 'Não informado'}</p>
                    <p><strong>Categoria:</strong> ${processo.categoria || 'Não informado'}</p>
                    <p><strong>Vara:</strong> ${processo.vara || 'Não informado'}</p>
                    <p><strong>Status:</strong> ${processo.status}</p>
                    <p><strong>Valor da Causa:</strong> R$ ${(processo.valorCausa || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                    <p><strong>Honorários:</strong> R$ ${(processo.honorarios || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                    <p><strong>Forma de Pagamento:</strong> ${processo.formaPagamento}</p>
                </div>
                
                ${processo.observacoes ? `
                    <div style="margin-bottom: 20px;">
                        <h4>Observações</h4>
                        <p>${processo.observacoes}</p>
                    </div>
                ` : ''}
                
                ${parcelas.length > 0 ? `
                    <div>
                        <h4>Parcelas</h4>
                        <div class="parcelas-grid">
                            ${parcelas.map(parcela => `
                                <div class="parcela-item ${parcela.status}">
                                    <div style="font-weight: bold; margin-bottom: 8px;">Parcela ${parcela.numero}</div>
                                    <div style="color: var(--muted); margin-bottom: 8px;">R$ ${parcela.valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                                    <div style="font-size: 12px; color: var(--muted);">
                                        Vencimento: ${new Date(parcela.dataVencimento).toLocaleDateString('pt-BR')}
                                    </div>
                                    <button class="parcela-btn ${parcela.status}" onclick="marcarParcelaComoPaga('${parcela.id}')">
                                        ${parcela.status === 'paga' ? 'Paga' : 'Marcar como Paga'}
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
            `;
            
            document.getElementById('modal-processo').classList.add('active');
        };

        window.atualizarStatusProcesso = function(id, novoStatus) {
            const processos = carregarProcessos();
            const processo = processos.find(p => p.id === id);
            if (processo) {
                processo.status = novoStatus;
                salvarProcessos(processos);
                mostrarAlerta('alert-cadastro', 'Status atualizado com sucesso!', 'success');
            }
        };

        window.excluirProcesso = function(id) {
            if (!confirm('Tem certeza que deseja excluir este processo?')) return;
            
            let processos = carregarProcessos();
            processos = processos.filter(p => p.id !== id);
            salvarProcessos(processos);
            
            let parcelas = carregarParcelas();
            parcelas = parcelas.filter(p => p.processoId !== id);
            salvarParcelas(parcelas);
            
            // Remover também imagens e anotações relacionadas
            let imagens = carregarImagens();
            imagens = imagens.filter(i => i.processoId !== id);
            salvarImagens(imagens);
            
            let anotacoes = carregarAnotacoes();
            anotacoes = anotacoes.filter(a => a.processoId !== id);
            salvarAnotacoes(anotacoes);
            
            carregarTabelaProcessos();
            atualizarDashboard();
            mostrarAlerta('alert-cadastro', 'Processo excluído com sucesso!', 'success');
        };

        // Sistema de Perfil do Cliente
        function atualizarSelectProcessosPerfil() {
            const processos = carregarProcessos();
            const select = document.getElementById('select-processo-perfil');
            
            select.innerHTML = '<option value="">Selecione um processo...</option>';
            processos.forEach(processo => {
                const option = document.createElement('option');
                option.value = processo.id;
                option.textContent = `${processo.clienteNome} - ${processo.numero || 'S/N'}`;
                select.appendChild(option);
            });
        }

        document.getElementById('select-processo-perfil').addEventListener('change', function() {
            const processoId = this.value;
            const container = document.getElementById('perfil-conteudo');
            
            if (!processoId) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); padding: 40px;">Selecione um processo para visualizar o perfil completo.</p>';
                return;
            }
            
            const processo = carregarProcessos().find(p => p.id === processoId);
            const imagens = carregarImagens().filter(i => i.processoId === processoId);
            const anotacoes = carregarAnotacoes().filter(a => a.processoId === processoId);
            const parcelas = carregarParcelas().filter(p => p.processoId === processoId);
            
            container.innerHTML = `
                <div class="perfil-header">
                    <div class="perfil-avatar">${processo.clienteNome.charAt(0)}</div>
                    <div class="perfil-info">
                        <h2>${processo.clienteNome}</h2>
                        <p style="color: var(--muted);">CPF: ${processo.clienteCpf || 'Não informado'} | Processo: ${processo.numero || 'Não informado'}</p>
                    </div>
                </div>

                <div class="perfil-stats">
                    <div class="stat-card">
                        <div class="stat-label">Status do Processo</div>
                        <div class="stat-value">${processo.status}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Valor da Causa</div>
                        <div class="stat-value">R$ ${(processo.valorCausa || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Honorários</div>
                        <div class="stat-value">R$ ${(processo.honorarios || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Parcelas Pagas</div>
                        <div class="stat-value">${parcelas.filter(p => p.status === 'paga').length}/${parcelas.length}</div>
                    </div>
                </div>

                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Categoria</div>
                        <div class="info-value">${processo.categoria || 'Não informado'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Vara/Comarca</div>
                        <div class="info-value">${processo.vara || 'Não informado'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Forma de Pagamento</div>
                        <div class="info-value">${processo.formaPagamento || 'Não informado'}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Data de Cadastro</div>
                        <div class="info-value">${new Date(processo.dataCadastro).toLocaleDateString('pt-BR')}</div>
                    </div>
                </div>

                ${processo.observacoes ? `
                    <div class="info-item" style="grid-column: 1 / -1;">
                        <div class="info-label">Observações</div>
                        <div class="info-value">${processo.observacoes}</div>
                    </div>
                ` : ''}

                <!-- Seção de Imagens -->
                <div style="margin-top: 30px;">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 16px;">
                        <h3>Imagens do Processo</h3>
                        <button class="btn btn-primary" onclick="abrirUploadImagens('${processoId}')">
                            <span class="material-icons">add_photo_alternate</span>
                            Adicionar Imagens
                        </button>
                    </div>
                    
                    ${imagens.length > 0 ? `
                        <div class="imagens-lista">
                            ${imagens.map(imagem => `
                                <div class="imagem-item">
                                    <img src="${imagem.url}" alt="${imagem.nome}">
                                    <div class="imagem-info">
                                        <div class="imagem-nome">${imagem.nome}</div>
                                        <div class="imagem-meta">${imagem.tamanho} • ${new Date(imagem.dataUpload).toLocaleDateString('pt-BR')}</div>
                                    </div>
                                    <div class="imagem-acoes">
                                        <button class="btn btn-danger" onclick="excluirImagem('${imagem.id}')" style="padding: 4px; font-size: 12px;">
                                            <span class="material-icons" style="font-size: 16px;">delete</span>
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : `
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Nenhuma imagem anexada a este processo.
                        </p>
                    `}
                </div>

                <!-- Seção de Anotações -->
                <div style="margin-top: 30px;">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 16px;">
                        <h3>Anotações</h3>
                        <button class="btn btn-primary" onclick="abrirModalAnotacao('${processoId}')">
                            <span class="material-icons">note_add</span>
                            Nova Anotação
                        </button>
                    </div>
                    
                    ${anotacoes.length > 0 ? `
                        <div class="anotacoes-lista">
                            ${anotacoes.map(anotacao => `
                                <div class="anotacao-item">
                                    <div class="anotacao-meta">
                                        <span>${new Date(anotacao.data).toLocaleString('pt-BR')}</span>
                                        <button class="btn btn-danger" onclick="excluirAnotacao('${anotacao.id}')" style="padding: 4px 8px; font-size: 12px;">
                                            <span class="material-icons" style="font-size: 16px;">delete</span>
                                        </button>
                                    </div>
                                    <div class="anotacao-texto">${anotacao.texto}</div>
                                </div>
                            `).join('')}
                        </div>
                    ` : `
                        <p style="text-align: center; color: var(--muted); padding: 40px;">
                            Nenhuma anotação registrada para este processo.
                        </p>
                    `}
                </div>
            `;
        });

        // Sistema de Upload de Imagens
        window.abrirUploadImagens = function(processoId) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.multiple = true;
            
            input.onchange = function(e) {
                const files = e.target.files;
                const imagens = carregarImagens();
                
                for (let file of files) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imagem = {
                            id: Date.now().toString() + Math.random(),
                            processoId: processoId,
                            nome: file.name,
                            url: e.target.result,
                            tamanho: formatarTamanho(file.size),
                            dataUpload: new Date().toISOString()
                        };
                        
                        imagens.push(imagem);
                        salvarImagens(imagens);
                        
                        // Atualizar a visualização
                        const select = document.getElementById('select-processo-perfil');
                        if (select.value === processoId) {
                            select.dispatchEvent(new Event('change'));
                        }
                        
                        mostrarAlerta('alert-cadastro', 'Imagem adicionada com sucesso!', 'success');
                    };
                    reader.readAsDataURL(file);
                }
            };
            
            input.click();
        };

        window.excluirImagem = function(imagemId) {
            if (!confirm('Tem certeza que deseja excluir esta imagem?')) return;
            
            let imagens = carregarImagens();
            imagens = imagens.filter(i => i.id !== imagemId);
            salvarImagens(imagens);
            
            // Atualizar a visualização
            const select = document.getElementById('select-processo-perfil');
            if (select.value) {
                select.dispatchEvent(new Event('change'));
            }
            
            mostrarAlerta('alert-cadastro', 'Imagem excluída com sucesso!', 'success');
        };

        // Sistema de Anotações
        window.abrirModalAnotacao = function(processoId) {
            document.getElementById('modal-anotacao').classList.add('active');
            document.getElementById('modal-anotacao').dataset.processoId = processoId;
            document.getElementById('anotacao-texto').value = '';
        };

        document.getElementById('btn-salvar-anotacao').addEventListener('click', function() {
            const processoId = document.getElementById('modal-anotacao').dataset.processoId;
            const texto = document.getElementById('anotacao-texto').value.trim();
            
            if (!texto) {
                alert('Digite uma anotação.');
                return;
            }
            
            const anotacoes = carregarAnotacoes();
            anotacoes.push({
                id: Date.now().toString(),
                processoId: processoId,
                texto: texto,
                data: new Date().toISOString()
            });
            
            salvarAnotacoes(anotacoes);
            fecharModal('modal-anotacao');
            
            // Atualizar a visualização
            const select = document.getElementById('select-processo-perfil');
            if (select.value === processoId) {
                select.dispatchEvent(new Event('change'));
            }
            
            mostrarAlerta('alert-cadastro', 'Anotação salva com sucesso!', 'success');
        });

        window.excluirAnotacao = function(anotacaoId) {
            if (!confirm('Tem certeza que deseja excluir esta anotação?')) return;
            
            let anotacoes = carregarAnotacoes();
            anotacoes = anotacoes.filter(a => a.id !== anotacaoId);
            salvarAnotacoes(anotacoes);
            
            // Atualizar a visualização
            const select = document.getElementById('select-processo-perfil');
            if (select.value) {
                select.dispatchEvent(new Event('change'));
            }
            
            mostrarAlerta('alert-cadastro', 'Anotação excluída com sucesso!', 'success');
        };

        // Sistema de Parcelas
        function atualizarSelectProcessosParcelas() {
            const processos = carregarProcessos();
            const select = document.getElementById('select-processo-parcelas');
            
            select.innerHTML = '<option value="">Selecione um processo...</option>';
            processos.forEach(processo => {
                const option = document.createElement('option');
                option.value = processo.id;
                option.textContent = `${processo.clienteNome} - ${processo.numero || 'S/N'}`;
                select.appendChild(option);
            });
        }

        document.getElementById('select-processo-parcelas').addEventListener('change', function() {
            const processoId = this.value;
            const container = document.getElementById('parcelas-container');
            
            if (!processoId) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); padding: 40px;">Selecione um processo para visualizar as parcelas.</p>';
                return;
            }
            
            const parcelas = carregarParcelas().filter(p => p.processoId === processoId);
            const processo = carregarProcessos().find(p => p.id === processoId);
            
            if (parcelas.length === 0) {
                container.innerHTML = `
                    <p style="text-align: center; color: var(--muted); padding: 40px;">
                        Nenhuma parcela encontrada para este processo.
                        ${processo.formaPagamento !== 'Parcelado' ? 'Este processo não é parcelado.' : ''}
                    </p>
                `;
                return;
            }
            
            container.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h3>Parcelas do Processo</h3>
                    <p><strong>Cliente:</strong> ${processo.clienteNome}</p>
                    <p><strong>Total:</strong> R$ ${processo.honorarios.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</p>
                </div>
                <div class="parcelas-grid">
                    ${parcelas.map(parcela => `
                        <div class="parcela-item ${parcela.status}">
                            <div style="font-weight: bold; margin-bottom: 8px;">Parcela ${parcela.numero}</div>
                            <div style="color: var(--muted); margin-bottom: 8px;">R$ ${parcela.valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                            <div style="font-size: 12px; color: var(--muted); margin-bottom: 8px;">
                                Vencimento: ${new Date(parcela.dataVencimento).toLocaleDateString('pt-BR')}
                                ${parcela.dataPagamento ? `<br>Pagamento: ${new Date(parcela.dataPagamento).toLocaleDateString('pt-BR')}` : ''}
                            </div>
                            <button class="parcela-btn ${parcela.status}" onclick="marcarParcelaComoPaga('${parcela.id}')">
                                ${parcela.status === 'paga' ? 'Paga' : 'Marcar como Paga'}
                            </button>
                            ${parcela.status === 'paga' ? `
                                <button class="btn btn-ghost" onclick="gerarRecibo('${parcela.id}')" style="margin-top: 8px; width: 100%;">
                                    <span class="material-icons">receipt</span>
                                    Recibo
                                </button>
                            ` : ''}
                        </div>
                    `).join('')}
                </div>
            `;
        });

        window.marcarParcelaComoPaga = function(parcelaId) {
            const parcelas = carregarParcelas();
            const parcela = parcelas.find(p => p.id === parcelaId);
            
            if (parcela && parcela.status === 'pendente') {
                parcela.status = 'paga';
                parcela.dataPagamento = new Date().toISOString();
                salvarParcelas(parcelas);
                
                // Atualizar contador de parcelas pagas no processo
                const processos = carregarProcessos();
                const processo = processos.find(p => p.id === parcela.processoId);
                if (processo) {
                    const parcelasProcesso = parcelas.filter(p => p.processoId === processo.id);
                    const parcelasPagas = parcelasProcesso.filter(p => p.status === 'paga').length;
                    processo.parcelasPagas = parcelasPagas;
                    salvarProcessos(processos);
                }
                
                // Recarregar a visualização
                const processoSelect = document.getElementById('select-processo-parcelas');
                if (processoSelect.value) {
                    processoSelect.dispatchEvent(new Event('change'));
                }
                
                // Atualizar dashboard
                atualizarDashboard();
                
                // Gerar recibo automaticamente
                gerarRecibo(parcelaId);
                
                mostrarAlerta('alert-cadastro', 'Parcela marcada como paga! Recibo gerado automaticamente.', 'success');
            }
        };

        // Sistema de Contratos
        function atualizarSelectProcessosContratos() {
            const processos = carregarProcessos();
            const select = document.getElementById('select-processo-contrato');
            
            select.innerHTML = '<option value="">Selecione um processo...</option>';
            processos.forEach(processo => {
                const option = document.createElement('option');
                option.value = processo.id;
                option.textContent = `${processo.clienteNome} - ${processo.numero || 'S/N'}`;
                select.appendChild(option);
            });
        }

        document.getElementById('select-processo-contrato').addEventListener('change', function() {
            const processoId = this.value;
            const container = document.getElementById('contratos-container');
            
            if (!processoId) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); padding: 40px;">Selecione um processo para gerar contratos e recibos.</p>';
                return;
            }
            
            const processo = carregarProcessos().find(p => p.id === processoId);
            const parcelas = carregarParcelas().filter(p => p.processoId === processoId);
            const parcelasPagas = parcelas.filter(p => p.status === 'paga');
            
            container.innerHTML = `
                <div class="perfil-header">
                    <div class="perfil-avatar">${processo.clienteNome.charAt(0)}</div>
                    <div class="perfil-info">
                        <h2>${processo.clienteNome}</h2>
                        <p style="color: var(--muted);">Processo: ${processo.numero || 'Não informado'}</p>
                    </div>
                </div>

                <div class="actions" style="margin-bottom: 30px;">
                    <button class="btn btn-primary" onclick="gerarContrato('${processoId}')">
                        <span class="material-icons">description</span>
                        Gerar Contrato
                    </button>
                    ${parcelasPagas.length > 0 ? `
                        <button class="btn btn-success" onclick="gerarTodosRecibos('${processoId}')">
                            <span class="material-icons">receipt_long</span>
                            Gerar Todos os Recibos
                        </button>
                    ` : ''}
                </div>

                ${parcelasPagas.length > 0 ? `
                    <div>
                        <h3>Recibos Disponíveis</h3>
                        <div class="parcelas-grid">
                            ${parcelasPagas.map(parcela => `
                                <div class="parcela-item paga">
                                    <div style="font-weight: bold; margin-bottom: 8px;">Recibo Parcela ${parcela.numero}</div>
                                    <div style="color: var(--muted); margin-bottom: 8px;">R$ ${parcela.valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</div>
                                    <div style="font-size: 12px; color: var(--muted); margin-bottom: 8px;">
                                        Data: ${new Date(parcela.dataPagamento).toLocaleDateString('pt-BR')}
                                    </div>
                                    <button class="btn btn-ghost" onclick="gerarRecibo('${parcela.id}')" style="width: 100%;">
                                        <span class="material-icons">visibility</span>
                                        Visualizar Recibo
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : `
                    <p style="text-align: center; color: var(--muted); padding: 40px;">
                        Nenhum recibo disponível. As parcelas pagas aparecerão aqui automaticamente.
                    </p>
                `}
            `;
        });

        // Função para criar contrato automaticamente
        function criarContratoAutomatico(processo) {
            const contratos = carregarContratos();
            const contrato = {
                id: processo.id + '_contrato',
                processoId: processo.id,
                dataCriacao: new Date().toISOString(),
                tipo: 'Contrato de Prestação de Serviços Advocatícios',
                cliente: processo.clienteNome,
                cpf: processo.clienteCpf,
                valor: processo.honorarios,
                parcelas: processo.parcelas,
                valorParcela: processo.honorarios / processo.parcelas
            };
            
            contratos.push(contrato);
            salvarContratos(contratos);
        }

        // Gerar Contrato
        window.gerarContrato = function(processoId) {
            const processo = carregarProcessos().find(p => p.id === processoId);
            if (!processo) return;
            
            const contratoHTML = `
                <div class="contrato-container">
                    <div class="contrato-header">
                        <div class="contrato-title">CONTRATO DE PRESTAÇÃO DE SERVIÇOS ADVOCATÍCIOS</div>
                        <div class="contrato-subtitle">Instrumento Particular</div>
                    </div>
                    
                    <div class="contrato-section">
                        <div class="contrato-section-title">DADAS DAS PARTES</div>
                        <div class="contrato-field">
                            <span class="contrato-label">CONTRATANTE:</span>
                            <span class="contrato-value">${processo.clienteNome}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">CPF:</span>
                            <span class="contrato-value">${processo.clienteCpf || 'Não informado'}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">ENDEREÇO:</span>
                            <span class="contrato-value">[Endereço do Cliente]</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">CONTRATADA:</span>
                            <span class="contrato-value">Dra. Advogada - OAB/SP 123.456</span>
                        </div>
                    </div>

                    <div class="contrato-section">
                        <div class="contrato-section-title">OBJETO DO CONTRATO</div>
                        <div class="contrato-field">
                            <span class="contrato-label">NOME DA AÇÃO:</span>
                            <span class="contrato-value">${processo.categoria || 'Não informado'}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">CATEGORIA:</span>
                            <span class="contrato-value">${processo.categoria || 'Não informado'}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">NÚMERO DO PROCESSO:</span>
                            <span class="contrato-value">${processo.numero || 'Não informado'}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">VARA/COMARCA:</span>
                            <span class="contrato-value">${processo.vara || 'Não informado'}</span>
                        </div>
                    </div>

                    <div class="contrato-section">
                        <div class="contrato-section-title">HONORÁRIOS ADVOCATÍCIOS</div>
                        <div class="contrato-field">
                            <span class="contrato-label">VALOR DA CAUSA:</span>
                            <span class="contrato-value">R$ ${(processo.valorCausa || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">HONORÁRIOS:</span>
                            <span class="contrato-value">R$ ${(processo.honorarios || 0).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</span>
                        </div>
                        <div class="contrato-field">
                            <span class="contrato-label">FORMA DE PAGAMENTO:</span>
                            <span class="contrato-value">${processo.formaPagamento}</span>
                        </div>
                        ${processo.formaPagamento === 'Parcelado' ? `
                            <div class="contrato-field">
                                <span class="contrato-label">PARCELAS:</span>
                                <span class="contrato-value">${processo.parcelas} x R$ ${(processo.honorarios / processo.parcelas).toLocaleString('pt-BR', {minimumFractionDigits: 2})}</span>
                            </div>
                        ` : ''}
                    </div>

                    <div class="contrato-signatures">
                        <div>
                            <div class="signature-line">___________________________________</div>
                            <div>CONTRATANTE</div>
                            <div>${processo.clienteNome}</div>
                            <div>CPF: ${processo.clienteCpf || 'Não informado'}</div>
                        </div>
                        <div>
                            <div class="signature-line">___________________________________</div>
                            <div>CONTRATADA</div>
                            <div>Dra. Advogada</div>
                            <div>OAB/SP 123.456</div>
                        </div>
                    </div>

                    <div class="contrato-actions">
                        <div style="text-align: center; margin-top: 20px; color: #64748b; font-size: 12px;">
                            Contrato gerado em: ${new Date().toLocaleString('pt-BR')}
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('modal-contrato-conteudo').innerHTML = contratoHTML;
            document.getElementById('modal-contrato').classList.add('active');
        };

        // Gerar Recibo
        window.gerarRecibo = function(parcelaId) {
            const parcelas = carregarParcelas();
            const parcela = parcelas.find(p => p.id === parcelaId);
            if (!parcela) return;
            
            const processo = carregarProcessos().find(p => p.id === parcela.processoId);
            if (!processo) return;
            
            const reciboHTML = `
                <div class="recibo-container">
                    <div class="recibo-header">
                        <div class="recibo-title">RECIBO DE PAGAMENTO</div>
                        <div class="recibo-subtitle">Comprovante de Pagamento de Honorários Advocatícios</div>
                    </div>
                    
                    <div class="recibo-detalhes">
                        <p><strong>Recebemos de:</strong> ${processo.clienteNome}</p>
                        <p><strong>CPF:</strong> ${processo.clienteCpf || 'Não informado'}</p>
                        <p><strong>Processo:</strong> ${processo.numero || 'Não informado'}</p>
                        <p><strong>Referente a:</strong> Parcela ${parcela.numero} de ${processo.parcelas} - Honorários Advocatícios</p>
                        <p><strong>Data do Pagamento:</strong> ${new Date(parcela.dataPagamento).toLocaleDateString('pt-BR')}</p>
                    </div>

                    <div class="recibo-valor">
                        R$ ${parcela.valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <p>_________________________</p>
                        <p><strong>Dra. Advogada</strong></p>
                        <p>OAB/SP 123.456</p>
                    </div>

                    <div style="text-align: center; margin-top: 20px; color: #64748b; font-size: 12px;">
                        Recibo gerado em: ${new Date().toLocaleString('pt-BR')}
                    </div>
                </div>
            `;
            
            document.getElementById('modal-recibo-conteudo').innerHTML = reciboHTML;
            document.getElementById('modal-recibo').classList.add('active');
        };

        // Gerar Todos os Recibos
        window.gerarTodosRecibos = function(processoId) {
            const parcelas = carregarParcelas().filter(p => p.processoId === processoId && p.status === 'paga');
            const processo = carregarProcessos().find(p => p.id === processoId);
            
            if (parcelas.length === 0) {
                alert('Nenhuma parcela paga para gerar recibos.');
                return;
            }
            
            // Aqui você pode implementar a geração de um PDF com todos os recibos
            // Por enquanto, vamos apenas abrir o primeiro recibo
            gerarRecibo(parcelas[0].id);
            
            mostrarAlerta('alert-cadastro', `${parcelas.length} recibos disponíveis para visualização.`, 'success');
        };

        // Sistema de Relatórios
        document.getElementById('btn-gerar-relatorio').addEventListener('click', function() {
            const tipo = document.getElementById('relatorio-tipo').value;
            const periodo = document.getElementById('relatorio-periodo').value;
            const container = document.getElementById('relatorio-conteudo');
            
            const processos = carregarProcessos();
            const parcelas = carregarParcelas();
            
            let relatorioHTML = '';
            
            switch(tipo) {
                case 'processos-por-status':
                    const statusCount = {};
                    processos.forEach(p => {
                        statusCount[p.status] = (statusCount[p.status] || 0) + 1;
                    });
                    
                    relatorioHTML = `
                        <h3>Processos por Status</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Status</th>
                                    <th>Quantidade</th>
                                    <th>Percentual</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${Object.entries(statusCount).map(([status, count]) => `
                                    <tr>
                                        <td>${status}</td>
                                        <td>${count}</td>
                                        <td>${((count / processos.length) * 100).toFixed(1)}%</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    break;
                    
                case 'honorarios-por-mes':
                    const honorariosPorMes = {};
                    processos.forEach(p => {
                        const mes = new Date(p.dataCadastro).toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' });
                        honorariosPorMes[mes] = (honorariosPorMes[mes] || 0) + (p.honorarios || 0);
                    });
                    
                    relatorioHTML = `
                        <h3>Honorários por Mês</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Mês</th>
                                    <th>Valor (R$)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${Object.entries(honorariosPorMes).map(([mes, valor]) => `
                                    <tr>
                                        <td>${mes}</td>
                                        <td>R$ ${valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    break;
                    
                case 'parcelas-pendentes':
                    const parcelasPendentes = parcelas.filter(p => p.status === 'pendente');
                    const parcelasAgrupadas = {};
                    
                    parcelasPendentes.forEach(p => {
                        const processo = processos.find(proc => proc.id === p.processoId);
                        if (processo) {
                            const key = processo.clienteNome;
                            parcelasAgrupadas[key] = (parcelasAgrupadas[key] || 0) + p.valor;
                        }
                    });
                    
                    relatorioHTML = `
                        <h3>Parcelas Pendentes</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Cliente</th>
                                    <th>Valor Pendente (R$)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${Object.entries(parcelasAgrupadas).map(([cliente, valor]) => `
                                    <tr>
                                        <td>${cliente}</td>
                                        <td>R$ ${valor.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    break;
            }
            
            container.innerHTML = relatorioHTML;
        });

        // Funções Utilitárias
        function formatarTamanho(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function fecharModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Fechar Modais
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.modal').classList.remove('active');
            });
        });

        // Fechar modal ao clicar fora
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            atualizarDashboard();
            atualizarSelectProcessosPerfil();
            atualizarSelectProcessosParcelas();
            atualizarSelectProcessosContratos();
            
            // Adicionar dados de exemplo se não houver dados
            const processos = carregarProcessos();
            if (processos.length === 0) {
                // Criar processo de exemplo
                const processoExemplo = {
                    id: 'exemplo-1',
                    clienteNome: 'João Silva Santos',
                    clienteCpf: '123.456.789-00',
                    numero: '0001234-56.2024.8.26.0001',
                    categoria: 'Cível',
                    vara: '3ª Vara Cível de São Paulo',
                    status: 'Em Andamento',
                    valorCausa: 50000,
                    honorarios: 5000,
                    formaPagamento: 'Parcelado',
                    parcelas: 10,
                    observacoes: 'Processo sobre indenização por danos morais.',
                    dataCadastro: new Date().toISOString(),
                    parcelasPagas: 3
                };
                
                processos.push(processoExemplo);
                salvarProcessos(processos);
                
                // Criar parcelas de exemplo
                const parcelas = [];
                const valorParcela = 5000 / 10;
                
                for (let i = 1; i <= 10; i++) {
                    const dataVencimento = new Date();
                    dataVencimento.setMonth(dataVencimento.getMonth() + i);
                    
                    parcelas.push({
                        id: 'exemplo-1_' + i,
                        processoId: 'exemplo-1',
                        numero: i,
                        valor: valorParcela,
                        dataVencimento: dataVencimento.toISOString(),
                        status: i <= 3 ? 'paga' : 'pendente',
                        dataPagamento: i <= 3 ? new Date().toISOString() : null
                    });
                }
                
                salvarParcelas(parcelas);
                
                // Criar anotação de exemplo
                const anotacoes = [{
                    id: 'exemplo-1',
                    processoId: 'exemplo-1',
                    texto: 'Primeira audiência marcada para 15/03/2024. Cliente compareceu e apresentou documentação necessária.',
                    data: new Date().toISOString()
                }];
                salvarAnotacoes(anotacoes);
                
                // Criar contrato de exemplo
                criarContratoAutomatico(processoExemplo);
                
                atualizarDashboard();
            }
        });
    </script>
</body>
</html>
